<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE concept-wr PUBLIC "-//WindRiver.com//DTD DITA 1.2 Wind River Concept//EN" "concept-wr.dtd">
<concept-wr domains="(topic concept concept-wr)                            (topic hi-d)                            (topic indexing-d)                            (topic pr-d)                            (topic sw-d)                            (topic ui-d)                            (topic wr-sw-d)                            (topic xml-d)   " id="psa1410446455735" xml:lang="en-us" xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/">
 <!-- Modification History

 -->
 <title ixia_locid="1">Managing Software Patches</title>
 <shortdesc ixia_locid="2">Patches to the system software become available as needed to address
  issues associated with a current Titanium Server software release. They must be uploaded to the
  active controller and applied to all required hosts in the cluster.</shortdesc>
 <prolog>
  <author ixia_locid="3">Pedro Sanchez</author>
 </prolog>
 <conbody>
  <draft-comment author="eknowlto" ixia_locid="69">US78836</draft-comment>
  <p ixia_locid="16">The following elements form part of the patching environment:</p>
  <dl>
   <dlentry ixia_locid="70">
    <dt ixia_locid="71">Reboot-Required Patches</dt>
    <dd ixia_locid="72">
     <p ixia_locid="73">Reboot-required patches are typically major patches that require hosts to be
      locked during the patching process and rebooted to complete the process. Note that when a
      Titanium Server host is locked and rebooted for patching, the VMs hosted by that Titanium
      Server host are live migrated to an alternate host in order minimize the impact to the VMs.
      Also note that if the VM cannot be live migrated due to the type of resources it is using,
      then the VM will be cold migrated to an alternate host.</p>
    </dd>
   </dlentry>
  </dl>
  <dl>
   <dlentry ixia_locid="74">
    <dt ixia_locid="75">In-Service Patches</dt>
    <dd ixia_locid="76">
     <p ixia_locid="77">In-service, or reboot not required, patches are patches that do not require
      the locking and rebooting of hosts. The required Titanium Server software is updated and any
      required Titanium Server processes are re-started. Hosted VMs are completely unaffected.</p>
    </dd>
   </dlentry>
  </dl>
  <dl>
   <dlentry ixia_locid="25">
    <dt ixia_locid="26">Patching Commands</dt>
    <dd ixia_locid="28">
     <draft-comment author="rstone" ixia_locid="49">US62817 changed wrs-patch -&gt;
      sw-patch</draft-comment>
     <p ixia_locid="29">The <cmdname ixia_locid="38">sw-patch</cmdname> command is available on both
      active controllers. It must be run as root using <cmdname ixia_locid="50">sudo</cmdname>. It
      provides the user interface to process the patches, including querying the state of a patch,
      listing affected hosts, and applying, installing, and removing patches.</p>
    </dd>
   </dlentry>
   <dlentry ixia_locid="30">
    <dt ixia_locid="31">Patch Storage Area</dt>
    <dd ixia_locid="32">
     <p ixia_locid="33">A central storage area maintained by the patch controller. Patches are
      initially uploaded to the patch storage area and remain there until they are deleted.</p>
    </dd>
   </dlentry>
   <dlentry ixia_locid="34">
    <dt ixia_locid="35">Software Updates Repository</dt>
    <dd ixia_locid="36">
     <p ixia_locid="37">A central repository of software updates associated with patches applied to
      the system. This repository is used by all hosts in the cluster to identify the software
      updates and rollbacks required on each host.</p>
    </dd>
   </dlentry>
   <dlentry ixia_locid="54">
    <dt ixia_locid="55">Patching Logs</dt>
    <dd ixia_locid="56">
     <p ixia_locid="57"><draft-comment author="jowens" ixia_locid="58">US82830
      added</draft-comment>The following logs are used to record patching activity:<dl>
       <dlentry ixia_locid="59">
        <dt ixia_locid="60"><filepath ixia_locid="61">patching.log</filepath></dt>
        <dd ixia_locid="62">
         <p ixia_locid="63">This records patch agent activity on each host.</p>
        </dd>
       </dlentry>
       <dlentry ixia_locid="64">
        <dt ixia_locid="65"><filepath ixia_locid="66">patching-api.log</filepath></dt>
        <dd ixia_locid="67">
         <p ixia_locid="68">This records user actions that involve patching, performed using either
          the CLI or the REST API.</p>
        </dd>
       </dlentry>
      </dl></p>
    </dd>
   </dlentry>
  </dl>
  <p ixia_locid="78">The overall flow for installing a patch from the command line interface on a
   working Titanium Server cluster is the following:</p>
  <ol id="ol_vgf_yzz_jp">
   <li ixia_locid="6">
    <p ixia_locid="79">Download the patch from the Wind River servers to a workstation that can reach
     the active controller through the OAM network. </p>
    <p ixia_locid="80">Consult the Wind River support personnel for details on the availability of
     new patches.</p>
   </li>
   <li ixia_locid="8">
    <p ixia_locid="81">Copy the patch to the active controller using the cluster's OAM floating IP
     address as the destination point. </p>
    <p ixia_locid="82">You can use a command such as <cmdname ixia_locid="10">scp</cmdname> to copy
     the patch. The patching workflows presented in this document assume that this step is complete
     already, that is, they assume that the patch is already available on the file system of the
     active controller.</p>
   </li>
   <li ixia_locid="12">
    <p ixia_locid="83">Upload the new patch to the patching storage area. </p>
    <p ixia_locid="84">This step makes the new patch available within the patching system, but does
     not install it to the cluster yet. For all purposes, the patch is dormant.</p>
   </li>
   <li ixia_locid="14">
    <p ixia_locid="51">Apply the patch.</p>
    <p ixia_locid="85">This step adds the patch to the Software Updates Repository, making it visible to all hosts
     in the cluster.</p>
   </li>
   <li ixia_locid="52">
    <p ixia_locid="53">Install the patch on each of the affected hosts in the cluster.</p>
   </li>
  </ol>
  <p ixia_locid="47">Patching the system can be done using the web administration interface or the
   command line interface on the active controller. When using the web administration interface you
   upload the patch directly from your workstation using a file browser window provided by the patch
   upload facility.</p>
  <p ixia_locid="48">A special case occurs during the initial provisioning of a cluster, when you
   want to patch <nameliteral ixia_locid="42">controller-0</nameliteral> before the system software
   is configured. This can only be done from the command line interface. See <xref href="psa1414084582159.xml" ixia_locid="43"/> for details.</p>
 </conbody>
</concept-wr>