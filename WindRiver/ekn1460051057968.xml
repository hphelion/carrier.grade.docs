<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE concept-wr PUBLIC "-//WindRiver.com//DTD DITA 1.2 Wind River Concept//EN" "concept-wr.dtd">
<concept-wr domains="(topic concept concept-wr)                            (topic hi-d)                            (topic indexing-d)                            (topic pr-d)                            (topic sw-d)                            (topic ui-d)                            (topic wr-sw-d)                            (topic xml-d)   " id="ekn1460051057968" xml:lang="en-us" xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/">
    <title ixia_locid="1">Linux User Accounts</title>
    <shortdesc ixia_locid="2">Linux user accounts are available on all hosts for administration and
        operation. </shortdesc>
    <prolog>
        <author ixia_locid="3">Pedro Sanchez</author>
        <author ixia_locid="141">Jim Owens</author>
    </prolog>
    <conbody>
        <p ixia_locid="188">Linux user accounts have no inherent relation to OpenStack Keystone user
            accounts. For more about Keystone accounts, see <xref href="jow1453573205413.xml" ixia_locid="189"/>.</p>
        <p ixia_locid="190">In Titanium Server, you can set up Linux accounts with simplified and
            secure access for Keystone users using a built-in script. For more information, see
                <xref href="jow1453470830949.xml" ixia_locid="170"/>.</p>
        <section id="section_N10033_N10022_N10001" ixia_locid="171">
            <title ixia_locid="172">Remote Access for Linux Accounts</title>
            <p ixia_locid="49">You can log in remotely as a Linux user using SSH. You can specify
                the OAM floating IP address as the target to establish a connection to the currently
                active controller. However, if the OAM floating IP address moves from one controller
                node to another, the SSH session is blocked. To ensure access to a particular
                controller regardless of its current role, specify the controller physical address
                instead.</p>
            <note id="note_N10046_N10033_N10022_N10001" ixia_locid="174">
                <p ixia_locid="162">Password-based access to the root account is not permitted over
                    remote connections. To log in as root over SSH, you must first configure a key
                    pair as described in <xref href="rst1449264554094.xml" ixia_locid="165"/>.</p>
            </note>
        </section>
        <section id="section_N10025_N1001D_N10001" ixia_locid="70">
            <title ixia_locid="71">The wrsroot Account</title>
            <p ixia_locid="122">This is a local, per-host, account created automatically when a new
                host is provisioned. On controller nodes, this account is available even before the
                    <nameliteral ixia_locid="73">config_controller</nameliteral> script is executed. </p>
            <p ixia_locid="123">The default initial password is
                <nameliteral ixia_locid="124">wrsroot</nameliteral>.</p>
            <ul id="ul_aqh_b41_pq">
                <li ixia_locid="118">
                    <p ixia_locid="119">The initial password must be changed immediately when you
                        log in to each host for the first time. For details, see <cite ixia_locid="95">Titanium Server Installation</cite>.</p>
                </li>
                <li ixia_locid="120">
                    <p ixia_locid="121">After five consecutive unsuccessful login attempts, further
                        attempts are blocked for approximately five minutes.</p>
                </li>
            </ul>
            <draft-comment author="eknowlto" ixia_locid="191">US77644: password aging</draft-comment>
            <p ixia_locid="192">Additionally, you can configure an <nameliteral ixia_locid="193">Aging</nameliteral> value for the <nameliteral ixia_locid="194">wrsroot</nameliteral> password. This value constitutes the maximum number of
                days after which the <nameliteral ixia_locid="195">wrsroot</nameliteral> password
                expires, and therefore has to be changed. While this configuration is optional, Wind
                River recommends it from a system security standpoint. An <nameliteral ixia_locid="196">Aging</nameliteral> value can be configured as follows:</p>
            <ul id="ul_dsy_c34_4v">
                <li ixia_locid="197">
                    <p ixia_locid="198">During initial system installation and provisioning, either
                        through the <cmdname ixia_locid="216">config_controller</cmdname> script, or
                        off-box <nameliteral ixia_locid="199">configutils</nameliteral>. For more
                        information, see the <ph ixia_locid="219" otherprops="printonly"><cite ixia_locid="220">Titanium Server
                                Software Development Kit: </cite></ph><cite ixia_locid="221"><ph ixia_locid="222"><xref href="rst1443453440317.xml" ixia_locid="223"/></ph></cite>.</p>
                </li>
                <li ixia_locid="200">
                    <p ixia_locid="201">On an active system using standard Linux commands, such as: </p>
                    <codeblock ixia_locid="209"><systemoutput ixia_locid="210">$</systemoutput> <userinput ixia_locid="211">chage –M <varname ixia_locid="212">new age</varname> wrsroot</userinput></codeblock>
                    <note id="note_N100F3_N100D8_N100C0_N10063_N10022_N10001" ixia_locid="214">
                        <p ixia_locid="215">When the <nameliteral ixia_locid="229">wrsroot</nameliteral> aging is
                            changed using the Linux command on the active controller, a <nameliteral ixia_locid="218">config-out-of-sync</nameliteral> alarm is generated
                            and logged in the Event log and all hosts in the system are updated with
                            the new aging for <nameliteral ixia_locid="230">wrsroot</nameliteral>. The alarm is
                            cleared after the password age is propagated to all the nodes and they
                            are all updated.</p>
                    </note>
                    <note id="note_N100EF_N100D8_N100C0_N10063_N10022_N10001" ixia_locid="213">
                        <p ixia_locid="96">All password changes and password aging changes must be
                            executed on the active controller to ensure that they propagate to all
                            other hosts in the cluster. Otherwise, they remain local to the host
                            where they were executed, and are overwritten on the next reboot to
                            match the password and aging on the active controller.</p>
                    </note>
                </li>
                <li ixia_locid="205">
                    <p ixia_locid="206">The default <nameliteral ixia_locid="207">Age</nameliteral> value is 45 days. </p>
                </li>
            </ul>
            <p ixia_locid="74">From the <nameliteral ixia_locid="208">wrsroot</nameliteral> account,
                you can execute commands requiring different privileges.</p>
            <ul id="ul_hlh_f2c_5p">
                <li ixia_locid="76">
                    <p ixia_locid="77">You can execute non-root level commands as a regular Linux
                        user directly.</p>
                    <p ixia_locid="146">If you do not have sufficient privileges to execute a command as a regular
                        Linux user, you may receive a permissions error, or in some cases, the
                        command may be reported as not found.</p>
                </li>
                <li ixia_locid="78">
                    <p ixia_locid="126">You can execute root-level commands as the root user.</p>
                    <p ixia_locid="127">To become the root user, use the <cmdname ixia_locid="81">sudo</cmdname> command to elevate your privileges, followed by the
                        command to be executed. For example, to run the <cmdname ixia_locid="128">config_controller</cmdname> command as the root user:</p>
                    <codeblock ixia_locid="130"><systemoutput ixia_locid="153">$ </systemoutput><userinput ixia_locid="134">sudo config_controller</userinput>
</codeblock>
                    <p ixia_locid="136">If a password is requested, provide the password for the
                            <nameliteral ixia_locid="138">wrsroot</nameliteral> account.</p>
                </li>
                <li ixia_locid="82">
                    <p ixia_locid="83">You can execute OpenStack administrative commands as the
                        Keystone <nameliteral ixia_locid="139">admin</nameliteral> user. </p>
                    <p ixia_locid="85">To become the OpenStack <nameliteral ixia_locid="175">admin</nameliteral> user
                        from the Linux <nameliteral ixia_locid="176">wrsroot</nameliteral> account, source the script
                            <filepath ixia_locid="152">/etc/nova/openrc</filepath>:</p>
                    <codeblock ixia_locid="131"><systemoutput ixia_locid="154">$ </systemoutput><userinput ixia_locid="135">source /etc/nova/openrc</userinput>
<systemoutput ixia_locid="155">[wrsroot@controller-0 ~(keystone_admin)]$ </systemoutput></codeblock>
                    <p ixia_locid="147">The system prompt changes to indicate the new acquired
                        privileges.</p>
                    <note id="note_N100F4_N100C7_N1007A_N1002A_N10022_N10001" ixia_locid="148">
                        <p ixia_locid="149">The shell prompt set by the openrc script includes the
                            Linux user name, the host name, the current working path, and the
                            OpenStack/Keystone tenant name. For simplicity, this documentation uses
                            the following generic prompt instead:</p>
                        <codeblock ixia_locid="150"><systemoutput ixia_locid="156">~(keystone_admin)$ </systemoutput></codeblock>
                    </note>
                    <p ixia_locid="90">For more information on the active controller, see <ph ixia_locid="231" otherprops="printonly"><cite ixia_locid="232">Titanium Server Introduction:
                                    </cite></ph><cite ixia_locid="233"><ph ixia_locid="234"><xref href="jow1404333798721.xml" ixia_locid="91"/></ph></cite>.</p>
                </li>
            </ul>
        </section>
        <section id="section_N10094_N1001D_N10001" ixia_locid="97">
            <title ixia_locid="98">Local Linux User Accounts</title>
            <p ixia_locid="142">You can manage regular Linux user accounts on any host in the cluster
                using standard Linux commands.  New accounts created on one host are not
                automatically propagated to other hosts. </p>
            <p ixia_locid="143">Password changes are not enforced automatically on first login, and
                they are not propagated by the system (with the exception of the <nameliteral ixia_locid="100">wrsroot</nameliteral> account, for which passwords changed on
                the active controller are propagated to other hosts). You must manually configure
                any special considerations for these accounts, if there are any.</p>
            <p ixia_locid="101">Local user accounts can be added to the <term ixia_locid="102">sudoers</term> list using the <cmdname ixia_locid="103">visudo</cmdname>
                command. They can also source the script <filepath ixia_locid="104">/etc/nova/openrc</filepath> to become OpenStack administrators when working on
                the active controller. </p>
            <p ixia_locid="105">Backup and restore operations of home directories and passwords must
                be done manually. They are ignored by the system backup and restore utilities. For
                further details, see <ph ixia_locid="224" otherprops="printonly"><cite ixia_locid="225">Titanium Server Software Management: </cite></ph><cite ixia_locid="226"><ph ixia_locid="227"><xref href="psa1410807811981.xml" ixia_locid="228"/></ph></cite>.</p>
        </section>
        <section id="section_N100E3_N1001A_N10001" ixia_locid="107">
            <title ixia_locid="51">LDAP Linux User Accounts</title>
            <p ixia_locid="144">You can create regular Linux user accounts using the Titanium Server
                LDAP service. LDAP accounts are centrally managed; changes made on any host are
                propagated automatically to all hosts on the cluster. </p>
            <p ixia_locid="145">Apart from being centrally managed, LDAP user accounts behave as any
                local user account. They can be added to the sudoers list, and can acquire OpenStack
                administration credentials when executing on the active controller.</p>
            <note id="note_N101A8_N10194_N10022_N10001" ixia_locid="177">
                <p ixia_locid="178">Titanium Server includes a script for creating limited-shell or
                    bash LDAP accounts intended for OpenStack users. For more information, see<xref href="jow1453470830949.xml" ixia_locid="180"/>.</p>
            </note>
            <p ixia_locid="23">LDAP user accounts share the following set of attributes:</p>
            <ul id="ul_d4q_g5c_5p">
                <li ixia_locid="24">
                    <p ixia_locid="25">The initial password is the name of the account.</p>
                </li>
                <li ixia_locid="28">
                    <p ixia_locid="29">The initial password must be changed immediately upon first
                        login.</p>
                </li>
                <li ixia_locid="30">
                    <p ixia_locid="31">Requirements for new passwords include:</p>
                    <ul id="ul_ipq_g5c_5p">
                        <li ixia_locid="32">
                            <p ixia_locid="33">at least eight characters long</p>
                        </li>
                        <li ixia_locid="34">
                            <p ixia_locid="35">at least one lowercase character</p>
                        </li>
                        <li ixia_locid="36">
                            <p ixia_locid="37">must differ in at least three characters from the
                                previous password</p>
                        </li>
                        <li ixia_locid="38">
                            <p ixia_locid="39">must not be evidently trivial to guess, such as
                                a2345678, or a reversed version of the old password</p>
                        </li>
                    </ul>
                </li>
                <li ixia_locid="40">
                    <p ixia_locid="41">Login sessions are logged out automatically after about 15
                        minutes of inactivity.</p>
                </li>
                <li ixia_locid="42">
                    <p ixia_locid="43">The accounts block following five consecutive unsuccessful
                        login attempts. They unblock automatically after a period of about five
                        minutes.</p>
                </li>
                <li ixia_locid="44">
                    <p ixia_locid="45">Home directories are created dynamically on first login. Note
                        that home directories for local user accounts are created when the accounts
                        are created.</p>
                </li>
                <li ixia_locid="110">
                    <p ixia_locid="112">All authentication attempts are recorded in the <filepath ixia_locid="48">/var/log/auth.log</filepath> file on the target
                        host.</p>
                </li>
                <li ixia_locid="111">
                    <p ixia_locid="113">Home directories and passwords are backed up and restored by
                        the system backup utilities.</p>
                </li>
            </ul>
            <p ixia_locid="5">The following LDAP user accounts are available by default on newly
                deployed hosts, regardless of their personality:</p>
            <dl>
                <dlentry ixia_locid="6">
                    <dt ixia_locid="7">admin</dt>
                    <dd ixia_locid="8">
                        <p ixia_locid="9">A cloud administrative account, comparable to the default
                                <nameliteral ixia_locid="10">admin</nameliteral> account used in the
                            Web administration interface.</p>
                        <p ixia_locid="11">This user account operates on a restricted Linux shell,
                            with limited access to native Linux commands. However, the shell is
                            pre-configured to have administrative access to OpenStack commands,
                            including the available Titanium Server CLI extensions.</p>
                    </dd>
                </dlentry>
                <dlentry ixia_locid="12">
                    <dt ixia_locid="13">operator</dt>
                    <dd ixia_locid="14">
                        <p ixia_locid="15">A host administrative account. It has access to all
                            native Linux commands and is included in the sudoers list.</p>
                    </dd>
                </dlentry>
            </dl>
            <p ixia_locid="114">For increased security, the admin and operator accounts must be used
                from the console ports of the hosts; no SSH access is allowed.</p>
        </section>
        <section id="section_N1019F_N1001D_N10001" ixia_locid="108">
            <title ixia_locid="117">Managing LDAP Linux User Accounts</title>
            <p ixia_locid="52">Although the scope of operations for the LDAP user accounts is local
                (that is, they operate on the target host exclusively), management of these accounts
                operates at the cluster level. This means that operations such as password change,
                and addition or removal of users, are applied to the entire cluster. For example, a
                password change executed while logged into controller-0, is effective immediately on
                all other hosts in the cluster.</p>
            <p ixia_locid="53">Centralized management is implemented using two LDAP servers, one
                running on each controller node. LDAP server synchronization is automatic using the
                native LDAP content synchronization protocol.</p>
            <p ixia_locid="181">A set of LDAP commands is available to operate on LDAP user
                accounts. The commands are installed in the <filepath ixia_locid="55">/usr/local/sbin</filepath> directory, and are available to any user account in
                the sudoers list. Included commands are <cmdname ixia_locid="58">lsldap</cmdname>,
                    <cmdname ixia_locid="59">ldapadduser</cmdname>, <cmdname ixia_locid="60">ldapdeleteuser</cmdname>, and several others starting with the prefix <cmdname ixia_locid="61">ldap</cmdname>.</p>
            <note id="note_N102C4_N10292_N10022_N10001" ixia_locid="182">
                <p ixia_locid="183">Wind River recommends the <cmdname ixia_locid="185">ldapusersetup</cmdname> command for creating Linux accounts for OpenStack
                    users. For more information , see <xref href="jow1453470830949.xml" ixia_locid="186"/>.</p>
            </note>
            <p ixia_locid="187">Use the <option ixia_locid="62">--help</option> command option on
                any command to display a brief help message, as illustrated below.</p>
            <codeblock ixia_locid="63"><systemoutput ixia_locid="157">$ </systemoutput><userinput ixia_locid="65">ldapadduser --help</userinput>
<systemoutput ixia_locid="158">Usage : /usr/local/sbin/ldapadduser &lt;username&gt; &lt;groupname | gid&gt; [uid]</systemoutput>
<systemoutput ixia_locid="159">$ </systemoutput><userinput ixia_locid="68">ldapdeleteuser --help</userinput>
<systemoutput ixia_locid="160">Usage : /usr/local/sbin/ldapdeleteuser &lt;username | uid&gt;</systemoutput></codeblock>
        </section>
    </conbody>
</concept-wr>