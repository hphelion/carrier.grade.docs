<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE task-wr PUBLIC "-//WindRiver.com//DTD DITA 1.2 Wind River General Task//EN" "task-wr.dtd">
<task-wr id="rst1441988597710" xml:lang="en-us">
<!-- Modification History
        
-->
    <title ixia_locid="491">Specifying Live Migration Maximum Downtime</title>
    <shortdesc ixia_locid="492"><draft-comment author="rstone" ixia_locid="501">Topic added for
            US60539</draft-comment>You can change the maximum amount of  downtime to tolerate during
        a live migration. </shortdesc>
    <prolog>
        <author ixia_locid="493">Ron Stone</author>
    </prolog>
    <taskbody>
        <context id="context_N1001F_N1001C_N10001" ixia_locid="494">
            <p ixia_locid="495">If this extra spec is not added, then the default 500 milliseconds
                is used. The minimum timer value is 100 milliseconds.</p>
            <note id="note_N10033_N10029_N10026_N10001" ixia_locid="545">
                <p ixia_locid="496">Downtime during a live migration is the period during which the
                    VM will be suspended in order to journal the final increment of data between
                    source VM instance and destination VM instance, resulting in a temporary service
                    interruption. Adjust this timer to avoid excessive down times that may violate
                    service level agreements. When this threshold cannot be achieved within the
                        <varname ixia_locid="535">live_migration_timeout</varname>, the migration is
                    aborted. For more information about <varname ixia_locid="499">live_migration_timeout</varname>, see <xref href="rst1441822551049.xml" ixia_locid="500"/>.</p>
            </note>
            <p ixia_locid="536">The live migration process will actually attempt to achieve a much
                smaller downtime than specified by this parameter by starting with a lower value
                approximately 1/10th of specified value, and increasing the downtime target every 75
                seconds for a total of 10 attempts. Setting the Live Migration Maximum Timeout, as
                described in <xref href="rst1441822551049.xml" ixia_locid="537"/>, lower than 750
                seconds results in the actual maximum tolerated live migration downtime being
                shorter than specified by this parameter. </p>
            <p ixia_locid="538">Live migration maximum downtime can be configured as an extra spec
                on a flavor, such that any VM Instance created with the flavor will inherit the
                specified value. Alternatively, it can be configured as meta-data on an image, such
                that any VM instance created based on this image will have the specified value. If
                live migration maximum downtime is set in both the flavor and the image, the value
                from the flavor overrides the value from the image.</p>
            <p ixia_locid="539">To set this option using the web administration interface:</p>
            <ul id="ul_cy3_byy_lt">
                <li ixia_locid="540">
                    <p ixia_locid="488">As <term ixia_locid="541">admin</term>, use the <uicontrol ixia_locid="489">Live Migration Max Downtime</uicontrol> selection in the <uicontrol ixia_locid="490">Create Flavor Extra Spec</uicontrol> drop-down menu. To
                        access this menu, see <xref href="jow1429538642910.xml" ixia_locid="470"/>.</p>
                </li>
            </ul>
            <p ixia_locid="542">or</p>
            <ul id="ul_qxq_hyy_lt">
                <li ixia_locid="531">
                    <p ixia_locid="532">As either <term ixia_locid="517">admin</term> or a tenant,
                        select <menucascade ixia_locid="518">
                            <uicontrol ixia_locid="519">System</uicontrol>
                            <uicontrol ixia_locid="520">Images</uicontrol>
                            <uicontrol ixia_locid="521">Edit Image</uicontrol>
                            <uicontrol ixia_locid="522">Update Metadata</uicontrol>
                        </menucascade> for the desired images and add an entry with:</p>
                    <codeblock ixia_locid="533">hw_wrs_live_migration_max_downtime=<varname ixia_locid="534">milliseconds</varname></codeblock>
                </li>
            </ul>
        </context>
    </taskbody>
</task-wr>