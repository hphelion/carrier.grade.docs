<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE task-wr PUBLIC "-//WindRiver.com//DTD DITA 1.2 Wind River General Task//EN" "task-wr.dtd">
<task-wr domains="(topic task task-wr)                            (topic hi-d)                            (topic pr-d)                            (topic sw-d)                            (topic ui-d)                            (topic wr-sw-d)                            (topic xml-d)   " id="lpu1473354591768" xml:lang="en-us" xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/">
    <!-- Modification History
        
-->
    <title ixia_locid="1">Installing Software on<ph ixia_locid="858" product="tis_cpe">
            Controller-1</ph><ph ixia_locid="1032" product="tis_lvm"> Controller-1 or a Compute
            Host</ph><ph ixia_locid="1033" product="tis_ceph"> Controller-1 or a Compute or Storage
            Host</ph> Using the CLI</title>
    <shortdesc ixia_locid="2">You can use the <nameliteral ixia_locid="3">controller-0</nameliteral>
        command-line interface to install the Titanium Server software on other hosts.</shortdesc>
    <prolog>
        <author ixia_locid="5">Jim Owens</author>
        <author ixia_locid="6">Tom Towle</author>
        <author ixia_locid="837">Pedro Sanchez</author>
    </prolog>
    <taskbody>
        <context id="context_N10031_N1002E_N10001" ixia_locid="838">
            <p ixia_locid="15"><draft-comment author="jowens" dir="ltr" ixia_locid="392" translate="no">US62814 topic updated to accommodate new host-add and host-update
                    options; CGTS-5792 steps updated to support CPE-specific output
                </draft-comment>Except where noted, all the commands must be executed from the
                console of the active controller (here assumed to be <nameliteral ixia_locid="836">controller-0</nameliteral>).</p>
        </context>
        <prereq conref="jow1404333506062.xml#jow1404333506062/prerequisites" id="prereq_N10061_N1002C_N10001" ixia_locid="19"/>
        <steps>
            <step id="step_N1007C_N10079_N1002E_N10001" ixia_locid="232">
                <cmd ixia_locid="233">Add the host to the system inventory.</cmd>
                <info ixia_locid="234">
                    <note id="note_N10086_N10083_N1007C_N10079_N1002E_N10001" ixia_locid="235">
                        <p ixia_locid="236">The host must be added to the system inventory before it
                            is powered on.</p>
                    </note>
                    <p ixia_locid="237">On <nameliteral ixia_locid="238">controller-0</nameliteral>,
                        acquire Keystone administrative privileges:</p>
                    <codeblock ixia_locid="239"><systemoutput ixia_locid="240">$ </systemoutput><userinput ixia_locid="241">source /etc/nova/openrc</userinput></codeblock>
                    <p ixia_locid="242"><draft-comment author="jowens" ixia_locid="538">US62814,
                            US62816 update host-add parameters; [rstone] US63466 adds -D; CGTS-4254
                            clarify when hostname is used; [jowens] US84106, US85273 update for
                            personality subtypes;</draft-comment>Use the <cmdname ixia_locid="621">system host-add</cmdname> command to add a host and specify its
                        personality. You can also specify the device used to display messages during
                        boot.</p>
                    <note id="note_N10146_N10109_N100F9_N100F5_N10029_N10001" ixia_locid="826">
                        <p ixia_locid="827">The <parmname ixia_locid="828">hostname</parmname>
                            parameter is required for compute hosts. For controller and storage
                            hosts, it is ignored.</p>
                    </note>
                    <codeblock ixia_locid="1051" product="tis_cpe"><systemoutput ixia_locid="1052">~(keystone_admin)$ </systemoutput><userinput ixia_locid="1053">system host-add  -p controller \
[-l <varname ixia_locid="1054">location</varname>] [-o <varname ixia_locid="1055">install_output</varname>[-c <varname ixia_locid="1056">console</varname>]] [-b <varname ixia_locid="1057">boot_device</varname>] \
[-r <varname ixia_locid="1058">rootfs_device</varname>] [-m <varname ixia_locid="1059">mgmt_mac</varname>] [-i <varname ixia_locid="1060">mgmt_ip</varname>] [-D <varname ixia_locid="1061">ttys_dcd</varname>] \
[-T <varname ixia_locid="1062">bm_type</varname> -M <varname ixia_locid="1063">bm_mac</varname> -I <varname ixia_locid="1064">bm_ip</varname> -U <varname ixia_locid="1065">bm_username</varname> -P <varname ixia_locid="1066">bm_password</varname>]</userinput>
</codeblock>
                    <codeblock ixia_locid="1067" product="tis_std"><systemoutput ixia_locid="1068">~(keystone_admin)$ </systemoutput><userinput ixia_locid="1069">system host-add  -n <varname ixia_locid="246">hostname</varname> \
-p <varname ixia_locid="359">personality</varname>  [-s <varname ixia_locid="891">subtype</varname>] \
[-l <varname ixia_locid="1070">location</varname>] [-o <varname ixia_locid="1071">install_output</varname>[-c <varname ixia_locid="1072">console</varname>]] [-b <varname ixia_locid="1073">boot_device</varname>] \
[-r <varname ixia_locid="1074">rootfs_device</varname>] [-m <varname ixia_locid="1075">mgmt_mac</varname>] [-i <varname ixia_locid="1076">mgmt_ip</varname>] [-D <varname ixia_locid="1077">ttys_dcd</varname>] \
[-T <varname ixia_locid="1078">bm_type</varname> -M <varname ixia_locid="1079">bm_mac</varname> -I <varname ixia_locid="1080">bm_ip</varname> -U <varname ixia_locid="1081">bm_username</varname> -P <varname ixia_locid="1082">bm_password</varname>]</userinput>
</codeblock>
                    <p ixia_locid="363">where</p>
                    <parml id="host-add_parms">
                        <plentry ixia_locid="364" product="tis_std">
                            <pt ixia_locid="365"><varname ixia_locid="366">hostname</varname></pt>
                            <pd ixia_locid="367">
                                <p ixia_locid="368">is a name to assign to the host (used for
                                    compute nodes only)</p>
                            </pd>
                        </plentry>
                        <plentry ixia_locid="892" product="tis_std">
                            <pt ixia_locid="893"><varname ixia_locid="894">personality</varname></pt>
                            <pd ixia_locid="895">
                                <p ixia_locid="896">is the host type. The following are valid
                                    options:</p>
                                <ul id="ul_dn5_vfk_px">
                                    <li ixia_locid="897">
                                        <p ixia_locid="898"><option ixia_locid="899">controller</option></p>
                                    </li>
                                    <li ixia_locid="900">
                                        <p ixia_locid="901"><option ixia_locid="902">compute</option> (not used for CPE systems)</p>
                                    </li>
                                    <li ixia_locid="903">
                                        <p ixia_locid="904"><option ixia_locid="905">storage</option> (not used for CPE systems or
                                            systems with controller storage)</p>
                                    </li>
                                </ul>
                            </pd>
                        </plentry>
                        <plentry ixia_locid="906" product="tis_std">
                            <pt ixia_locid="907"><varname ixia_locid="908">subtype</varname></pt>
                            <pd ixia_locid="909">
                                <p ixia_locid="910">is the host personality subtype (used only for a
                                    compute host or storage host). </p>
                                <ul id="ul_en5_vfk_px">
                                    <li ixia_locid="911">
                                        <p ixia_locid="912">For a compute host, the only current
                                            valid value is <option ixia_locid="913">standard</option>.</p>
                                    </li>
                                    <li ixia_locid="915">
                                        <p ixia_locid="916">For a storage host, valid values are <ph ixia_locid="917"><option ixia_locid="918">ceph-backing</option> or <option ixia_locid="919">ceph-caching</option>.</ph></p>
                                        <note id="note_N101B0_N1019A_N10182_N10179_N1016D_N1010D_N10066_N1005C_N10059_N10039_N10001" ixia_locid="957">
                                            <p ixia_locid="958">You cannot add a <nameliteral ixia_locid="959">ceph-caching</nameliteral> host
                                                until cache tiering is configured on the system. For
                                                more information, see <ph ixia_locid="960" otherprops="printonly"><cite ixia_locid="961">Titanium Server System Administration:
                                                  </cite></ph><cite ixia_locid="962"><ph ixia_locid="963"><xref href="siv1474312502430.xml" ixia_locid="964"/></ph></cite>. In addition, the
                                                system must already have a <nameliteral ixia_locid="965">ceph-backing</nameliteral>
                                                host.</p>
                                        </note>
                                    </li>
                                </ul>
                            </pd>
                        </plentry>
                        <plentry ixia_locid="667">
                            <pt ixia_locid="668"><varname ixia_locid="669">location</varname></pt>
                            <pd ixia_locid="670">
                                <p ixia_locid="671">is a string describing the location of the
                                    host</p>
                            </pd>
                        </plentry>
                        <plentry ixia_locid="376">
                            <pt ixia_locid="377"><varname ixia_locid="860">console</varname></pt>
                            <pd ixia_locid="379">
                                <p ixia_locid="380">is the output device to use for message display
                                    on the host (for example, <option ixia_locid="381">tty0</option>). The default is <option ixia_locid="382">ttys0,
                                        115200</option>.</p>
                            </pd>
                        </plentry>
                        <plentry ixia_locid="383">
                            <pt ixia_locid="384"><varname ixia_locid="385">install_output</varname></pt>
                            <pd ixia_locid="386">
                                <p ixia_locid="387">is the format for console output on the host
                                        (<option ixia_locid="388">text</option> or <option ixia_locid="389">graphical</option>). The default is <option ixia_locid="390">text</option>.</p>
                                <note id="note_N108C1_N108A9_N1089D_N10858_N107F0_N107DF_N100F5_N10029_N10001" ixia_locid="1041">
                                    <p ixia_locid="1042"><draft-comment author="jowens" ixia_locid="1043">CGTS-5076
                                            graphical installation disabled</draft-comment>The
                                            <option ixia_locid="1044">graphical</option> option
                                        currently has no effect. Text-based installation is used
                                        regardless of this setting.</p>
                                </note>
                            </pd>
                        </plentry>
                        <plentry ixia_locid="508">
                            <pt ixia_locid="509"><varname ixia_locid="510">boot_device</varname></pt>
                            <pd ixia_locid="511">
                                <p ixia_locid="512">is the host device for boot partition, relative
                                    to <filepath ixia_locid="513">/dev</filepath>. The default is
                                        <option ixia_locid="514">sda</option>.</p>
                            </pd>
                        </plentry>
                        <plentry ixia_locid="515">
                            <pt ixia_locid="516"><varname ixia_locid="517">rootfs_device</varname></pt>
                            <pd ixia_locid="518">
                                <p ixia_locid="519">is the host device for rootfs partition,
                                    relative to<filepath ixia_locid="520"> /dev</filepath>. The
                                    default is <option ixia_locid="521">sda</option>.</p>
                            </pd>
                        </plentry>
                        <plentry ixia_locid="405">
                            <pt ixia_locid="406"><varname ixia_locid="407">mgmt_mac</varname></pt>
                            <pd ixia_locid="408">
                                <p ixia_locid="409">is the MAC address of the port connected to the
                                    internal management or PXE boot network.</p>
                            </pd>
                        </plentry>
                        <plentry ixia_locid="410">
                            <pt ixia_locid="411"><varname ixia_locid="412">mgmt_ip</varname></pt>
                            <pd ixia_locid="413">
                                <p ixia_locid="414">is the IP address of the port connected to the
                                    internal management or PXE boot network, if static IP address
                                    allocation is used.<note id="note_N1029B_N10297_N10293_N10287_N1017A_N100F6_N100E6_N100E2_N10029_N10001" ixia_locid="681" product="tis_region">
                                        <p ixia_locid="682"> The <varname ixia_locid="734">mgmt_ip</varname> option is not used for a
                                            controller node.</p>
                                    </note></p>
                            </pd>
                        </plentry>
                        <plentry ixia_locid="809">
                            <pt ixia_locid="810"><varname ixia_locid="811">ttys_dcd</varname></pt>
                            <pd ixia_locid="812">
                                <p ixia_locid="813">is set to <nameliteral ixia_locid="814">True</nameliteral> to have any active console session
                                    automatically logged out when the serial console cable is
                                    disconnected, or <nameliteral ixia_locid="815">False</nameliteral> to disable this behavior. The server
                                    must support data carrier detect on the serial console port.</p>
                            </pd>
                        </plentry>
                        <plentry ixia_locid="315">
                            <pt ixia_locid="321"><varname ixia_locid="327">bm_type</varname></pt>
                            <pd ixia_locid="333">
                                <draft-comment author="rstone" ixia_locid="743">US64066 adds
                                    Quanta</draft-comment>
                                <p ixia_locid="339">is the board management controller type (<option ixia_locid="348">iLO3</option>, <option ixia_locid="353">iOL4</option> or <option ixia_locid="744">Quanta</option>)</p>
                            </pd>
                        </plentry>
                        <plentry ixia_locid="316">
                            <pt ixia_locid="322"><varname ixia_locid="328">bm_mac</varname></pt>
                            <pd ixia_locid="334">
                                <p ixia_locid="340">is the board management controller MAC
                                    address</p>
                            </pd>
                        </plentry>
                        <plentry ixia_locid="317">
                            <pt ixia_locid="323"><varname ixia_locid="329">bm_ip</varname></pt>
                            <pd ixia_locid="335">
                                <p ixia_locid="341">is the board management controller IP
                                    address</p>
                            </pd>
                        </plentry>
                        <plentry ixia_locid="318">
                            <pt ixia_locid="324"><varname ixia_locid="330">bm_username</varname></pt>
                            <pd ixia_locid="336">
                                <p ixia_locid="342">is the username for board management controller
                                    access</p>
                            </pd>
                        </plentry>
                        <plentry ixia_locid="415">
                            <pt ixia_locid="416"><varname ixia_locid="417">bm_password</varname></pt>
                            <pd ixia_locid="418">
                                <p ixia_locid="419">is the password for board management controller
                                    access</p>
                            </pd>
                        </plentry>
                    </parml>
                </info>
                <stepxmp ixia_locid="279">
                    <p ixia_locid="280">For example:</p>
                    <codeblock ixia_locid="1083" product="tis_cpe"><systemoutput ixia_locid="1084">~(keystone_admin)$ </systemoutput><userinput ixia_locid="1085">system host-add -p controller -m 08:00:27:5C:97:DB</userinput>
<systemoutput ixia_locid="1086">+---------------------+--------------------------------------+
| Property            | Value                                |
+---------------------+--------------------------------------+
| action              | none                                 |
| administrative      | locked                               |
| availability        | offline                              |
| bm_ip               | None                                 |
| bm_mac              | None                                 |
| bm_type             | None                                 |
| bm_username         | None                                 |
| boot_device         | sda                                  |
| capabilities        | {}                                   |
| config_applied      | None                                 |
| config_status       | None                                 |
| config_target       | None                                 |
| console             | ttyS0,115200                         |
| created_at          | 2016-10-24T20:33:50.998923+00:00     |
| hostname            | controller-1                         |
| id                  | 18                                   |
| install_output      | text                                 |
| invprovision        | None                                 |
| location            | {}                                   |
| mgmt_ip             | 192.168.204.33                       |
| mgmt_mac            | 08:00:27:da:8b:59                    |
| operational         | disabled                             |
| personality         | controller                           |
| reserved            | False                                |
| rootfs_device       | sda                                  |
| serialid            | None                                 |
| software_load       | 16.00                                |
| task                | None                                 |
| ttys_dcd            | None                                 |
| updated_at          | None                                 |
| uptime              | 0                                    |
| uuid                | c3582323-2318-4c96-864a-6c2b525d4cea |
| vim_progress_status | None                                 |
+---------------------+--------------------------------------+
</systemoutput></codeblock>
                    <codeblock ixia_locid="1087" product="tis_std"><systemoutput ixia_locid="1088">~(keystone_admin)$ </systemoutput><userinput ixia_locid="1089">system host-add -n compute-1 -p compute -m 08:00:27:5C:97:DB</userinput>
<systemoutput ixia_locid="1090">+---------------------+--------------------------------------+
| Property            | Value                                |
+---------------------+--------------------------------------+
| action              | none                                 |
| administrative      | locked                               |
| availability        | offline                              |
| bm_ip               | None                                 |
| bm_mac              | None                                 |
| bm_type             | None                                 |
| bm_username         | None                                 |
| boot_device         | sda                                  |
| capabilities        | {}                                   |
| config_applied      | None                                 |
| config_status       | None                                 |
| config_target       | None                                 |
| console             | ttyS0,115200                         |
| created_at          | 2016-10-24T20:33:50.998923+00:00     |
| hostname            | compute-1                            |
| id                  | 18                                   |
| install_output      | text                                 |
| invprovision        | None                                 |
| location            | {}                                   |
| mgmt_ip             | 192.168.204.33                       |
| mgmt_mac            | 08:00:27:da:8b:59                    |
| operational         | disabled                             |
| personality         | compute                              |
| reserved            | False                                |
| rootfs_device       | sda                                  |
| serialid            | None                                 |
| software_load       | 16.00                                |
| task                | None                                 |
| ttys_dcd            | None                                 |
| updated_at          | None                                 |
| uptime              | 0                                    |
| uuid                | c3582323-2318-4c96-864a-6c2b525d4cea |
| vim_progress_status | None                                 |
+---------------------+--------------------------------------+
</systemoutput></codeblock>
                </stepxmp>
            </step>
            <step id="boot-node" ixia_locid="569">
                <cmd ixia_locid="570">Power on the host.</cmd>
                <info ixia_locid="571">
                    <p ixia_locid="572"><note id="note_N10395_N10392_N1038E_N1037E_N100E2_N10029_N10001" ixia_locid="778" product="tis_nonregion">
                            <p ixia_locid="779">To ensure you can correctly identify hosts as you
                                install them, power on and configure each new node one at a
                                time.</p>
                        </note>With <nameliteral ixia_locid="573">controller-0</nameliteral>
                        running, start the host.</p>
                    <!-- p><nameliteral>controller-0</nameliteral> accepts the PXE request from the
                        host node, configures the node's IP address, and pushes a network
                        bootstrap program.</p -->
                    <!-- draft-comment>Jim - too much detail?</draft-comment -->
                    <p ixia_locid="574"><draft-comment author="jowens" ixia_locid="780">US63465
                            branding removed from screen</draft-comment>The host boots from the
                        network and then displays a message that it is waiting to be configured.</p>
                    <fig id="fig_N100BC_N100A9_N100A1_N10091_N10024_N10001" ixia_locid="575">
                        <image href="jow1404333500016.image" id="image_whb_vjd_gn" ixia_locid="576"/>
                    </fig>
                </info>
            </step>
            <step id="step_N104CA_N100E2_N10029_N10001" ixia_locid="434">
                <cmd ixia_locid="435">Obtain the host id.</cmd>
                <info ixia_locid="436">
                    <p ixia_locid="437">The active controller assigns an <nameliteral ixia_locid="797">id</nameliteral> when the host is detected. To update
                        the host with a personality from the command line, the <nameliteral ixia_locid="798">id</nameliteral> is required.</p>
                    <p ixia_locid="438">The <nameliteral ixia_locid="799">id</nameliteral> is shown
                        in the first field of the <cmdname ixia_locid="439">system
                            host-list</cmdname> command output:</p>
                    <codeblock ixia_locid="440"><systemoutput ixia_locid="441">~(keystone_admin)$ </systemoutput><userinput ixia_locid="442">system host-list</userinput>
<systemoutput ixia_locid="443">+----+--------------+-------------+----------------+-------------+--------------+
| id | hostname     | personality | administrative | operational | availability |
+----+--------------+-------------+----------------+-------------+--------------+
| 1  | controller-0 | controller  | unlocked       | enabled     | available    |
| 2  | None         | None        | locked         | disabled    | offline      |
+----+--------------+-------------+----------------+-------------+--------------+ </systemoutput></codeblock>
                    <p ixia_locid="506">This example shows the output when the first host is powered
                        on after <nameliteral ixia_locid="507">controller-0</nameliteral> has been
                        configured.</p>
                </info>
            </step>
            <step id="step_N100B1_N10066_N1002C_N10001" ixia_locid="444">
                <cmd id="set_host_attributes" ixia_locid="445">On the <nameliteral ixia_locid="446">controller-0</nameliteral> console, set the attributes of the host.</cmd>
                <info id="system_host_update_info" ixia_locid="447">
                    <p ixia_locid="448"><draft-comment author="jowens" ixia_locid="539">US62814,
                            US62816 update host-update parameters; US84106, US85273 update for
                            personality subtypes; [rstone] US63466 adds ttys_dcd; CGTS-4254 clarify
                            when hostname is used</draft-comment>Use a command of the following
                        form:</p>
                    <note id="note_N104B3_N1049C_N10487_N100F5_N10029_N10001" ixia_locid="829">
                        <p ixia_locid="830">The <parmname ixia_locid="831">hostname</parmname>
                            parameter is valid for compute hosts only. For controller and storage
                            hosts, it is ignored.</p>
                    </note>
                    <codeblock ixia_locid="1091" product="tis_cpe"><systemoutput ixia_locid="1092">~(keystone_admin)$ </systemoutput><userinput ixia_locid="1093">system host-update <varname ixia_locid="1094">hostid</varname> [location=<varname ixia_locid="1095">location</varname>] \
[console=<varname ixia_locid="1096">console</varname>] [install_output=<varname ixia_locid="1097">install_output</varname>] \
[ttys_dcd=<varname ixia_locid="1098">ttys_dcd</varname>] [boot_device=<varname ixia_locid="1099">boot_device</varname>] \
[rootfs_device=<varname ixia_locid="1100">rootfs_device</varname>] </userinput></codeblock>
                    <codeblock id="system-host-update-syntax" ixia_locid="1101" product="tis_std"><systemoutput ixia_locid="1102">~(keystone_admin)$ </systemoutput><userinput ixia_locid="1103">system host-update <varname ixia_locid="1104">hostid</varname> hostname=<varname ixia_locid="800">hostname</varname> \
personality=<varname ixia_locid="454">personality</varname> sub-type=<varname ixia_locid="866">subtype</varname> [location=<varname ixia_locid="1105">location</varname>] \
[console=<varname ixia_locid="1106">console</varname>] [install_output=<varname ixia_locid="1107">install_output</varname>] \
[ttys_dcd=<varname ixia_locid="1108">ttys_dcd</varname>] [boot_device=<varname ixia_locid="1109">boot_device</varname>] \
[rootfs_device=<varname ixia_locid="1110">rootfs_device</varname>] </userinput></codeblock>
                    <p ixia_locid="457">where</p>
                    <parml id="host-update_parms">
                        <plentry ixia_locid="458">
                            <pt ixia_locid="459"><varname ixia_locid="460">hostid</varname></pt>
                            <pd ixia_locid="461">
                                <p ixia_locid="462">is the numeric id of the host obtained using the
                                        <cmdname ixia_locid="463">system host-list</cmdname>
                                    command</p>
                            </pd>
                        </plentry>
                        <plentry ixia_locid="464" product="tis_std">
                            <pt ixia_locid="465"><varname ixia_locid="466">hostname</varname></pt>
                            <pd ixia_locid="467">
                                <p ixia_locid="468">is a name to assign to the host (used for
                                    compute nodes only)</p>
                            </pd>
                        </plentry>
                        <plentry ixia_locid="924" product="tis_std">
                            <pt ixia_locid="925"><varname ixia_locid="926">personality</varname></pt>
                            <pd ixia_locid="927">
                                <p ixia_locid="928">is the host type. The following are valid
                                    options:</p>
                                <ul id="ul_wnm_cw3_px">
                                    <li ixia_locid="929">
                                        <p ixia_locid="930"><option ixia_locid="931">controller</option></p>
                                    </li>
                                    <li ixia_locid="932">
                                        <p ixia_locid="933"><option ixia_locid="934">compute</option> (not used for CPE systems)</p>
                                    </li>
                                    <li ixia_locid="1038">
                                        <p ixia_locid="1039"><option ixia_locid="1040">storage</option> (not used for CPE systems or
                                            systems with controller storage)</p>
                                    </li>
                                </ul>
                            </pd>
                        </plentry>
                        <plentry ixia_locid="938" product="tis_std">
                            <pt ixia_locid="939"><varname ixia_locid="940">subtype</varname></pt>
                            <pd ixia_locid="941">
                                <p ixia_locid="942">is the host personality subtype (used only for a
                                    compute host or storage host)</p>
                                <ul id="ul_oz1_jv3_px">
                                    <li ixia_locid="943">
                                        <p ixia_locid="944">For a compute host, valid values are
                                                <option ixia_locid="945">standard</option> or
                                                <option ixia_locid="946">low-latency</option>.</p>
                                    </li>
                                    <li ixia_locid="947">
                                        <p ixia_locid="948">For a storage host, valid values are <ph ixia_locid="949"><option ixia_locid="950">ceph-backing</option> or <option ixia_locid="951">ceph-caching</option>.</ph></p>
                                        <note id="note_N10543_N1052D_N10515_N1050C_N10500_N10484_N1041F_N1040F_N10059_N10039_N10001" ixia_locid="966">
                                            <p ixia_locid="967">You cannot add a <nameliteral ixia_locid="968">ceph-caching</nameliteral> host
                                                until cache tiering is configured on the system. For
                                                more information, see <ph ixia_locid="969" otherprops="printonly"><cite ixia_locid="970">Titanium Server System Administration:
                                                  </cite></ph><cite ixia_locid="971"><ph ixia_locid="972"><xref href="siv1474312502430.xml" ixia_locid="973"/></ph></cite>. In addition, the
                                                system must already have a <nameliteral ixia_locid="974">ceph-backing</nameliteral>
                                                host.</p>
                                        </note>
                                    </li>
                                </ul>
                            </pd>
                        </plentry>
                        <plentry ixia_locid="673">
                            <pt ixia_locid="674"><varname ixia_locid="675">location</varname></pt>
                            <pd ixia_locid="676">
                                <p ixia_locid="677">is a string describing the location of the
                                    host</p>
                            </pd>
                        </plentry>
                        <plentry ixia_locid="476">
                            <pt ixia_locid="477"><varname ixia_locid="478">console</varname></pt>
                            <pd ixia_locid="479">
                                <p ixia_locid="683">is the output device to use for message display
                                    on the host (for example, <option ixia_locid="684">tty0</option>). The default is <option ixia_locid="685">ttys0,
                                        115200</option>)</p>
                            </pd>
                        </plentry>
                        <plentry ixia_locid="483">
                            <pt ixia_locid="484"><varname ixia_locid="485">install_output</varname></pt>
                            <pd ixia_locid="486">
                                <p ixia_locid="686">is the format for console output on the host
                                        (<option ixia_locid="687">text</option> or <option ixia_locid="688">graphical</option>). The default is <option ixia_locid="689">text</option>.</p>
                                <note id="note_N105E2_N105CA_N105BE_N1049B_N10436_N10426_N1005E_N1003E_N10001" ixia_locid="1045">
                                    <p ixia_locid="1046"><draft-comment author="jowens" ixia_locid="1047">CGTS-5076 graphical installation
                                            disabled</draft-comment>The <option ixia_locid="1048">graphical</option> option currently has no effect.
                                        Text-based installation is used regardless of this
                                        setting.</p>
                                </note>
                            </pd>
                        </plentry>
                        <plentry ixia_locid="816">
                            <pt ixia_locid="817"><varname ixia_locid="818">ttys_dcd</varname></pt>
                            <pd ixia_locid="819">
                                <draft-comment author="rstone" ixia_locid="758">US63466 adds.
                                    Corrected for CGTS-3824</draft-comment>
                                <p ixia_locid="820">is set to <nameliteral ixia_locid="821">True</nameliteral> to have any active console session
                                    automatically logged out when the serial console cable is
                                    disconnected, or <nameliteral ixia_locid="822">False</nameliteral> to disable this behavior. The server
                                    must support data carrier detect on the serial console port.</p>
                            </pd>
                        </plentry>
                        <plentry ixia_locid="754">
                            <pt ixia_locid="755"><varname ixia_locid="756">serial</varname></pt>
                            <pd ixia_locid="757">
                                <p ixia_locid="759">is set to true to <nameliteral ixia_locid="795">True</nameliteral> to have any active console session
                                    automatically logged out when the serial console cable is
                                    disconnected, or <nameliteral ixia_locid="796">False</nameliteral> to disable this behavior. The server
                                    must support data carrier detect on the serial console port.</p>
                            </pd>
                        </plentry>
                        <plentry ixia_locid="524">
                            <pt ixia_locid="525"><varname ixia_locid="526">boot_device</varname></pt>
                            <pd ixia_locid="527">
                                <p ixia_locid="690">is the host device for boot partition, relative
                                    to <filepath ixia_locid="691">/dev</filepath>. The default is
                                        <option ixia_locid="692">sda</option>.</p>
                            </pd>
                        </plentry>
                        <plentry ixia_locid="531">
                            <pt ixia_locid="532"><varname ixia_locid="533">rootfs_device</varname></pt>
                            <pd ixia_locid="534">
                                <p ixia_locid="693">is the host device for rootfs partition,
                                    relative to<filepath ixia_locid="694"> /dev</filepath>. The
                                    default is <option ixia_locid="695">sda</option>.</p>
                            </pd>
                        </plentry>
                    </parml>
                </info>
                <stepxmp ixia_locid="495">
                    <p ixia_locid="540">For example:</p>
                    <codeblock ixia_locid="496"><systemoutput ixia_locid="497">~(keystone_admin)$ </systemoutput><userinput ixia_locid="498">system host-update 2 personality=controller</userinput>
<systemoutput ixia_locid="146">+-----------------+--------------------------------------+
| Property        | Value                                |
+-----------------+--------------------------------------+
| action          | none                                 |
| administrative  | locked                               |
| availability    | offline                              |
| bm_ip           |                                      |
| bm_mac          | None                                 |
| bm_type         | None                                 |
| bm_username     |                                      |
| boot_device     | sda                                  |
| capabilities    | {}                                   |
| console         | ttyS0, 115200                        |
| created_at      | 2015-01-09T15:54:40.313688+00:00     |
| cstatus         | None                                 |
| hostname        | controller-1                         |
| iconfig_applied |                                      |
| iconfig_fini    |                                      |
| iconfig_target  |                                      |
| id              | 2                                    |
| install_output  | text                                 |
| invProvision    | unprovisioned                        |
| location        | {}                                   |
| mgmt_ip         | 192.168.204.4                        |
| mgmt_mac        | 08:00:27:1f:5e:e4                    |
| operational     | disabled                             |
| personality     | controller                           |
| reserved        | False                                |
| rootfs_device   | sda                                  |
| serialid        | None                                 |
| task            | None                                 |
| ttys_dcd        | False                                |
| updated_at      | 2015-09-28T13:13:36.337484+00:00     |
| uptime          | 242757                               |
| uuid            | 4e83bc2f-57d4-4508-9550-564d74dc32d4 |
+-----------------+--------------------------------------+</systemoutput></codeblock>
                </stepxmp>
                <stepresult ixia_locid="499">
                    <p ixia_locid="500"><nameliteral ixia_locid="501">Controller-0</nameliteral>
                        configures the required parameters and displays them as illustrated above.
                        The host is still reported as offline, since the Titanium Server software
                        has yet to be installed in its hard drive.</p>
                    <p ixia_locid="502"><draft-comment author="jowens" ixia_locid="782">US63465
                            branding removed from screen</draft-comment><nameliteral ixia_locid="503">Controller-0</nameliteral> automatically pushes the
                        Titanium Server installer image over the network for the host to boot. The
                        console of the host displays the Titanium Server welcome screen.</p>
                    <fig id="fig_N100E3_N100CA_N100AE_N10066_N1002C_N10001" ixia_locid="504">
                        <image href="jow1412193160572.image" id="image_fld_lmj_pt" ixia_locid="768">
                            <alt ixia_locid="769">Titanium Server Controller Node Install</alt>
                        </image>
                    </fig>
                </stepresult>
            </step>
            <step id="personality-install" ixia_locid="773">
                <cmd ixia_locid="774">Install the personality.</cmd>
                <info ixia_locid="775">
                    <p ixia_locid="622"><draft-comment author="jowens" ixia_locid="781">US63465
                            branding removed from screen</draft-comment>The node is assigned the
                        personality specified in the <cmdname ixia_locid="623">system
                            host-add</cmdname> parameters. A display-device menu appears on the
                        console, with text customized for the personality (Controller, Storage, or
                        Compute Node).<fig id="fig_jyd_4k2_lt" ixia_locid="552">
                            <image href="jow1412193160572.image" id="image_o5d_dmj_pt" ixia_locid="766">
                                <alt ixia_locid="767">Titanium Server Controller Node Install</alt>
                            </image>
                        </fig></p>
                    <p ixia_locid="776">You can start the installation manually by pressing
                            <uicontrol ixia_locid="777">Enter</uicontrol>. Otherwise, it is started
                        automatically after a few seconds.</p>
                </info>
            </step>
            <step id="step_N10128_N10066_N1002C_N10001" ixia_locid="66">
                <cmd ixia_locid="839">Wait for the host to reboot.</cmd>
                <info ixia_locid="840">
                    <p ixia_locid="122">Up to 20 minutes may be required for a reboot.</p>
                    <p ixia_locid="1049">The time required to configure and reboot controller-1 depends on the
                        secondary disk partition size. Larger partitions require more time for
                        synchronization with controller-0. Fore more information on DRBD
                        synchronization and tuning, see <xref href="gri1467382322806.xml" ixia_locid="1050"/>.</p>
                    <note id="manual-reboot" ixia_locid="70">
                        <p ixia_locid="71">It may be necessary to reconfigure the BIOS manually to
                            force the host to boot from the hard drive.</p>
                    </note>
                </info>
                <stepresult ixia_locid="841">
                    <p ixia_locid="73">The host boots from the hard drive into the Titanium Server
                        image and displays the GNU GRUB welcome screen.</p>
                    <p ixia_locid="76">After a brief delay, the system boots automatically into the
                        Titanium Server image and presents a login prompt.</p>
                </stepresult>
            </step>
            <step id="step_N1015B_N10066_N1002C_N10001" ixia_locid="77">
                <cmd ixia_locid="78">On the <nameliteral ixia_locid="79">controller-0</nameliteral>
                    console, use the <cmdname ixia_locid="857">system host-list</cmdname> command to verify the
                    status of the host.</cmd>
                <choices id="choices_xlm_4tp_fx">
                    <choice ixia_locid="842">
                        <p ixia_locid="843">For the second controller:</p>
                        <codeblock ixia_locid="81"><systemoutput ixia_locid="147">~(keystone_admin)$ </systemoutput><userinput ixia_locid="83">system host-list</userinput>
<systemoutput ixia_locid="148">+----+--------------+-------------+----------------+-------------+--------------+
| id | hostname     | personality | administrative | operational | availability |
+----+--------------+-------------+----------------+-------------+--------------+
| 1  | controller-0 | controller  | unlocked       | enabled     | available    |
| 2  | controller-1 | controller  | locked         | disabled    | offline      |
+----+--------------+-------------+----------------+-------------+--------------+</systemoutput></codeblock>
                        <p ixia_locid="86">The host is still offline, but it is now reported as a
                            controller node with name <nameliteral ixia_locid="87">controller-1</nameliteral>, in the <nameliteral ixia_locid="88">locked</nameliteral> administrative state.</p>
                        <p ixia_locid="844">Verify that the Titanium Server controller services are running on
                            controller-1.</p>
                        <codeblock ixia_locid="863"><systemoutput ixia_locid="403">~(keystone_admin)$ </systemoutput><userinput ixia_locid="864">nova service-list</userinput>
<systemoutput ixia_locid="865">+------------------+--------------+--------+---------+-------+ ...
| Binary           | Host         | Zone   | Status  | State | ...
+------------------+--------------+--------+---------+-------+ ...
| nova-conductor   | controller-0 | int... | enabled | up    | ...
| nova-cert        | controller-0 | int... | enabled | up    | ...
| nova-consoleauth | controller-0 | int... | enabled | up    | ...
| nova-scheduler   | controller-0 | int... | enabled | up    | ...
+------------------+--------------+--------+---------+-------+ ...</systemoutput>
</codeblock>
                    </choice>
                    <choice ixia_locid="845" product="tis_std">
                        <p ixia_locid="846">For a compute host:</p>
                        <codeblock ixia_locid="847"><systemoutput ixia_locid="204">~(keystone_admin)$ </systemoutput><userinput ixia_locid="848">system host-list</userinput>
<systemoutput ixia_locid="205">+----+--------------+-------------+----------------+-------------+--------------+
| id | hostname     | personality | administrative | operational | availability |
+----+--------------+-------------+----------------+-------------+--------------+
| 1  | controller-0 | controller  | unlocked       | enabled     | available    |
| 2  | controller-1 | controller  | unlocked       | enabled     | available    |
| 3  | compute-0    | compute     | locked         | disabled    | online       |
+----+--------------+-------------+----------------+-------------+--------------+</systemoutput></codeblock>
                        <p ixia_locid="849">The host is still offline, but it is now reported as a
                            compute node in the <nameliteral ixia_locid="850">locked</nameliteral>
                            administrative state.</p>
                    </choice>
                    <choice ixia_locid="851" product="tis_ceph">
                        <p ixia_locid="852">For a storage host:</p>
                        <codeblock ixia_locid="853"><systemoutput ixia_locid="202">~(keystone_admin)$ </systemoutput><userinput ixia_locid="854">system host-list</userinput>
<systemoutput ixia_locid="203">+----+--------------+-------------+----------------+-------------+--------------+
| id | hostname     | personality | administrative | operational | availability |
+----+--------------+-------------+----------------+-------------+--------------+
| 1  | controller-0 | controller  | unlocked       | enabled     | available    |
| 2  | controller-1 | controller  | unlocked       | enabled     | available    |
| 3  | storage-0    | storage     | locked         | disabled    | offline      |
+----+--------------+-------------+----------------+-------------+--------------+</systemoutput></codeblock>
                        <p ixia_locid="855">The host is still offline, but it is now reported as a
                            storage node in the <nameliteral ixia_locid="856">locked</nameliteral>
                            administrative state.</p>
                    </choice>
                </choices>
            </step>
        </steps>
        <postreq id="postreq_N1091D_N10029_N10001" ixia_locid="834">
            <p id="p_prereq_to_unlock" ixia_locid="835">Before you can unlock a host, you must
                configure its network interfaces and storage resources. </p>
        </postreq>
    </taskbody>
</task-wr>