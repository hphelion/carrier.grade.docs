<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE concept-wr PUBLIC "-//WindRiver.com//DTD DITA 1.2 Wind River Concept//EN" "concept-wr.dtd">
<concept-wr domains="(topic concept concept-wr)                            (topic hi-d)                            (topic indexing-d)                            (topic pr-d)                            (topic sw-d)                            (topic ui-d)                            (topic wr-sw-d)                            (topic xml-d)   " id="jow1404333732592" xml:lang="en-us" xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/">
    <title ixia_locid="1">The Ethernet MTU</title>
    <shortdesc ixia_locid="2">The Maximum Transmission Unit (MTU) of an Ethernet frame is a
        configurable attribute in Titanium Server. Changing its default size must be done in
        coordination with other network elements on the Ethernet link.</shortdesc>
    <prolog>
        <author ixia_locid="42">Jim Owens</author>
        <author ixia_locid="3">Pedro Sanchez</author>
    </prolog>
    <conbody>
        <p ixia_locid="52">In the context of Titanium Server, the Maximum Transmission Unit (MTU)
            refers to the largest possible payload on the Ethernet frame on a particular network
            link. The payload is enclosed by the Ethernet header (14 bytes) and the CRC (4 bytes),
            resulting in an Ethernet frame that is 18 bytes longer than the MTU size. </p>
        <p ixia_locid="5">The original IEEE 802.3 specification defines a valid standard Ethernet
            frame size to be from 64 to 1518 bytes, accommodating payloads ranging in size from 46
            to 1500 bytes. Ethernet frames with a payload larger than 1500 bytes are considered to
            be jumbo frames.</p>
        <p ixia_locid="53">For a VLAN network, the frame also includes a 4-byte VLAN ID header,
            resulting in a frame size 22 bytes longer than the MTU size.</p>
        <p ixia_locid="49">For a VXLAN network, the frame is either 54 or 74 bytes longer, depending
            on whether IPv4 or IPv6 protocol is used. This is because, in addition to the Ethernet
            header and CRC, the payload is enclosed by an IP header (20 bytes for Ipv4 or 40 bytes
            for IPv6), a UDP header (8 bytes), and a VXLAN header (8 bytes). </p>
        <p ixia_locid="6">In Titanium Server, you can configure the MTU size for the following
            interfaces and networks: </p>
        <ul id="ul_qmn_yvn_m4">
            <li ixia_locid="43">
                <p ixia_locid="44"><draft-comment author="jowens" ixia_locid="56">CGTS-3407 updated
                        xrefs; CGTS-4671 removed infra from configurable
                    interfaces</draft-comment>The management and OAM network interfaces on the
                    controller. The MTU size for these interfaces is set during initial
                    installation; for more information, see <ph ixia_locid="59" otherprops="printonly"><cite ixia_locid="45">Titanium Server Installation:
                        </cite></ph><cite ixia_locid="60"><ph ixia_locid="61"><xref href="ekn1460145735111.xml" ixia_locid="62"/></ph></cite>. To make
                    changes after installation, see <ph ixia_locid="63" otherprops="printonly"><cite ixia_locid="64">Titanium Server System Administration: </cite></ph><cite ixia_locid="65"><ph ixia_locid="66"><xref href="rst1442611751868.xml" ixia_locid="57"/></ph></cite>.</p>
            </li>
            <li ixia_locid="7">
                <p ixia_locid="8">Data interfaces on compute nodes. For more information, see <ph ixia_locid="67" otherprops="printonly"><cite ixia_locid="68">Titanium Server System Administration:
                        </cite></ph><cite ixia_locid="69"><ph ixia_locid="70"><xref href="rst1448489015877.xml" ixia_locid="58"/></ph></cite>.</p>
            </li>
            <li ixia_locid="9">
                <p ixia_locid="10">Provider networks. For more information, see <ph ixia_locid="71" otherprops="printonly"><cite ixia_locid="72">Titanium Server System Administration:
                        </cite></ph><cite ixia_locid="73"><ph ixia_locid="74"><xref href="wdq1463583173409.xml" ixia_locid="75"/></ph></cite>.</p>
                <draft-comment author="jmaran" ixia_locid="76">The xref above formerly pointed to the "Architecture
                    of a Titanium Server System" topic in the Introduction for this (planning)
                    guide. I updated it to point to the inter-book link in the system administration
                    guide as that seems more helpful. </draft-comment>
            </li>
        </ul>
        <p ixia_locid="11">In all cases, the default MTU size is 1500. The minimum value is 576, and
            the maximum is 9216.</p>
        <note id="note_N100C1_N10022_N10001" ixia_locid="77">
            <p ixia_locid="78"><draft-comment author="jowens" ixia_locid="79">CGTS-5641</draft-comment>You cannot change the MTU for
                an infrastructure interface. The value from the network resource is always used.</p>
        </note>
        <p ixia_locid="12">Because data interfaces are defined over physical interfaces connecting
            to provider networks, it is important that you consider the implications of modifying
            the default MTU size:</p>
        <ul id="ul_hsq_2f4_m4">
            <li ixia_locid="13">
                <p ixia_locid="14">The MTU sizes for a data interface and the corresponding Ethernet
                    interface on the edge router or switch must be compatible. You must ensure that
                    each side of the link is configured to accept the maximum frame size that can be
                    delivered from the other side. For example, if the data interface is configured
                    with a MTU size of 9216 bytes, the corresponding switch interface must be
                    configured to accept a maximum frame size of 9238 bytes, assuming a VLAN tag is
                    present.</p>
                <p ixia_locid="15">The way switch interfaces are configured varies from one switch
                    manufacturer to another. In some cases you configure the MTU size directly,
                    while in some others you configure the maximum Ethernet frame size instead. In
                    the latter case, it is often unclear whether the frame size includes VLAN
                    headers or not. In any case, you must ensure that both sides are configured to
                    accept the expected maximum frame sizes.</p>
            </li>
            <li ixia_locid="50">
                <p ixia_locid="51">For a VXLAN network, the additional IP, UDP, and VXLAN headers
                    are invisible to the data interface, which expects a frame only 18 bytes larger
                    than the MTU. To accommodate the larger frames on a VXLAN network, you must
                    specify a larger nominal MTU on the data interface. For simplicity, and to avoid
                    issues with stacked VLAN tagging, some third party vendors recommend rounding up
                    by an additional 100 bytes for calculation purposes. For example, to attach to a
                    VXLAN provider network with an MTU of 1500, a data interface with an MTU of 1600
                    is recommended.</p>
            </li>
            <li ixia_locid="16">
                <p ixia_locid="17">A provider network can only be associated with a compute node data interface with an MTU of
     equal or greater value. </p>
            </li>
            <li ixia_locid="18">
                <p ixia_locid="19">The MTU size of a compute node data interface cannot be modified
                    to be less than the MTU size of any of its associated provider networks.</p>
            </li>
            <li ixia_locid="22">
                <p ixia_locid="23"><draft-comment author="jowens" ixia_locid="54">CGTS-3171 updated;
                        also, removed statement that MTU can't be modified if tenant networks
                        exist</draft-comment>The MTU size of a provider network is automatically
                    propagated to new tenant networks. Changes to the provider network MTU are <i ixia_locid="55">not</i> propagated to existing tenant networks.</p>
            </li>
            <li ixia_locid="24">
                <p ixia_locid="25">The Neutron L3 and DHCP agents automatically propagate the MTU size of their networks to
     their Linux network interfaces.</p>
            </li>
            <li ixia_locid="26">
                <p ixia_locid="27">The Neutron DHCP agent makes the option <option ixia_locid="28">interface-mtu</option> available to any DHCP
     client request from a virtual machine. The request response from the server is the current
     interface's MTU size, which can then be used by the client to adjust its own interface MTU
     size. </p>
            </li>
            <li ixia_locid="29">
                <p ixia_locid="30">The AVS prevents any AVP-Kernel or AVP-DPDK instances from setting a link MTU size that
     exceeds the maximum allowed on the corresponding tenant network. No such verification is
     available for virtio VM instances.</p>
            </li>
        </ul>
    </conbody>
</concept-wr>