<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic
  PUBLIC "-//OASIS//DTD DITA Topic//EN" "http://docs.oasis-open.org/dita/v1.1/OS/dtd/topic.dtd" >
<topic xml:lang="en-us" id="topic10581cgiptch">
  <title>HP Helion <tm tmtype="reg">OpenStack</tm> Carrier Grade 2.0: Installing Required Patches
    for the Sacramento Deployment</title>
  <prolog>
    <metadata>
      <othermeta name="layout" content="default"/>
      <othermeta name="product-version" content="HP Helion OpenStack Carreir Grade 1.1"/>
      <othermeta name="role" content="Storage Administrator"/>
      <othermeta name="role" content="Storage Architect"/>
      <othermeta name="role" content="Michael B"/>
      <othermeta name="product-version1" content="HP Helion OpenStack Carreir Grade 1.1"/>
    </metadata>
  </prolog>
  <body>
    <p>All patch files can be downloaded from the <xref
        href="https://helion.hpwsportal.com/catalog.html#/Home/Show" format="html" scope="external"
        >Helion Distribution Network (HDN)</xref>. You must <xref
        href="https://idm.pod1.prod-core.hpwsportal.com/webid/" format="html" scope="external"
        >obtain a user account on HDN</xref> in order to download these files.</p>
    
    <bodydiv id="all">
    <section id="cobbler">
      <title>Deploy the Randomize Cobbler Password Patch <!-- "security patch"--></title>
      <p>Cobbler is a build and deployment system that the HP Helion OpenStack Carrier Grade
        installation process uses. For security, you must generate a random password that will be
        passed to the installation process, rather than entering an explicit password through the
          <codeph>group_vars/all</codeph> file.</p>
      <p>You downloaded the patch file, <codeph>knc-cobbler-random.patch</codeph>, during the
        prerequisites.</p>
      <p>
        <ol id="ol_cqf_s4k_f5">
          <li>Copy the patch file to the <codeph>~/</codeph> directory. </li>
          <li>Change to the ~/cg-hlm directory: <codeblock>cd ~/cg-hlm</codeblock></li>
          <li>Execute the following command to deploy the patch:
            <codeblock>patch -p1 -b &lt; ../cg-hlm-cobbler-random.patch</codeblock></li>
          <li>Change to the <codeph>~/cg-hlm/hlm-build</codeph>
            directory:<codeblock>cd ~/cg-hlm/hlm-build </codeblock></li>
          <li>Execute the following
              command:<codeblock>./hlm_initcobbler.sh &lt;ip address&gt; &lt;netmask&gt; &lt;dhcp begin range&gt; &lt;dhcp end range&gt;    </codeblock><p>Where
                <codeph>&lt;ip address></codeph> is the PXE IP of the HLM node.</p><p>For
              example:</p><codeblock>./hlm_initcobbler.sh 192.168.100.2 255.255.255.0 192.168.100.100 192.168.100.200 </codeblock></li>
          <li>Execute the following command: <codeblock>./hlm_importiso.sh</codeblock></li>
          <li>Change to the <codeph>~/kenobi-node-configuration</codeph>
            directory:<codeblock>cd ~/kenobi-node-configuration </codeblock></li>
          <li>Execute the following
            command:<codeblock>patch -p1 -b &lt; ../knc-cobbler-random.patch </codeblock></li>
          <li>Change to the <codeph>~/cg-hlm/hlm-build</codeph> directory:
            <codeblock>cd ~/cg-hlm/hlm-build </codeblock></li>
          <li>Execute the following command to integrate the changes into the
            environment:<codeblock>./hlm_prepare-env.sh</codeblock></li>
        </ol>
      </p>
      <p>The root user can retrieve the randomized password in the
          <codeph>/var/hlm/clouds/.cobbler</codeph> file.</p>
    </section>
      <section id="ssl-patch"><title>Deploy the SSL patch <!--heat/keystone/ssl patch--></title>You
        should have downloaded the following patch files during the prerequisites: <!--HCG-998--><ul
          id="ul_i42_qhz_35">
          <li>kcp-ssl-implementation.patch </li>
        </ul><p>The README with the patch download contains information on files changed by these
          patches.</p><p>To prevent this condition, execute the following commands:<ol
            id="ol_j42_qhz_35">
            <li>Copy the patch file to <codeph>~/</codeph> on the lifecycle manager. </li>
            <li>Change to the <codeph>kenobi-configuration-processor</codeph>
              directory:<codeblock>cd ~/kenobi-configuration-processor</codeblock></li>
            <li>Execute the following command to install the second patch
              <codeblock>patch -p1 &lt; ../kcp-ssl-implementation.patch</codeblock></li>
            <li>Change to the <codeph>kenobi-node-configuration</codeph>
              directory:<codeblock>cd ~/kenobi-node-configuration</codeblock></li>
            <li>Execute the following command to install the second patch
              <codeblock>patch -p1 &lt; ../kcp-ssl-implementation.patch</codeblock></li>
            <li>Change to the <codeph>~/cg-hlm/hlm-build</codeph> directory
              <codeblock>cd ~/cg-hlm/hlm-build</codeblock></li>
            <li>Execute the following command to integrate the changes into the
              environment:<codeblock>./hlm_prepare-env.sh</codeblock>When you execute the
                <codeph>hlm generate</codeph> command is executed, the changes will be included.
            </li>
          </ol></p></section>
      <section id="next-step">
        <title>Next Step</title>
        <p><xref href="CGH-2-install-dcn-sacramento.dita#topic10581c2vsd">Configuring the DCN
          Components</xref></p>
      </section>
    </bodydiv>
  </body>
</topic>
