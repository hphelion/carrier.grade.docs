<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE concept-wr PUBLIC "-//WindRiver.com//DTD DITA 1.2 Wind River Concept//EN" "concept-wr.dtd">
<concept-wr domains="(topic concept concept-wr)                            (topic hi-d)                            (topic indexing-d)                            (topic pr-d)                            (topic sw-d)                            (topic ui-d)                            (topic wr-sw-d)                            (topic xml-d)   " id="jow1404333563834" xml:lang="en-us" xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/">
    <title ixia_locid="1">Linux User Accounts</title>
    <shortdesc ixia_locid="2">Linux user accounts are available on all hosts for administration,
        operation, and general hosting purposes. They have no relation with the cloud user tenant
        accounts created using the web management interface, the CLI commands, or the
        APIs.</shortdesc>
    <prolog>
        <author></author>
        <author ixia_locid="141">Jim Owens</author>
    </prolog>
    <conbody>
        <p ixia_locid="49">You can log in remotely as a Linux user by using an SSH connection and
            specifying the OAM floating IP address as the target. This establishes a connection to
            the currently active controller. If the OAM floating IP address moves from one
            controller node to another, the SSH session is blocked. To ensure access to a particular
            controller regardless of its current role, specify the controller physical address
            instead.</p>
        <section id="section_N10025_N1001D_N10001" ixia_locid="70">
            <title ixia_locid="71">The wrsroot Account</title>
            <p ixia_locid="122">This is a local, per-host, account created automatically when a new
                host is provisioned.Â On controller nodes, this account is available even before the
                    <nameliteral ixia_locid="73">config_controller</nameliteral> script is executed. </p>
            <p ixia_locid="123">The default initial password is
                <nameliteral ixia_locid="124">wrsroot</nameliteral>.</p>
            <ul id="ul_aqh_b41_pq">
                <li ixia_locid="118">
                    <p ixia_locid="119">The initial password must be changed immediately when you
                        log in to <nameliteral ixia_locid="125">controller-0</nameliteral> for the first time. For
                        details, see the <cite ixia_locid="95">HP Helion OpenStack Carrier Grade Software Installation
                            Guide</cite>.</p>
                </li>
                <li ixia_locid="120">
                    <p ixia_locid="121">After five consecutive unsuccessful login attempts, further
                        attempts are blocked for  about five minutes.</p>
                </li>
            </ul>
            <p ixia_locid="96">Subsequent password changes must be executed on the active controller
                to ensure that they propagate to all other hosts in the cluster. Otherwise, they
                remain local to the host where they were executed, and are overwritten on the next
                reboot to match the password on the active controller.</p>
            <p ixia_locid="74">From the <nameliteral ixia_locid="75">wrsroot</nameliteral> account,
                you can execute commands requiring different privileges.</p>
            <ul id="ul_hlh_f2c_5p">
                <li ixia_locid="76">
                    <p ixia_locid="77">You can execute non-root level commands as a regular Linux
                        user directly.</p>
                    <p ixia_locid="146">If you do not have sufficient privileges to execute a command as a regular
                        Linux user, you may receive a permissions error, or in some cases, the
                        command may be reported as not found.</p>
                </li>
                <li ixia_locid="78">
                    <p ixia_locid="126">You can execute root-level commands as the <nameliteral ixia_locid="80">root</nameliteral> user.</p>
                    <p ixia_locid="127">To become the root user, use the <cmdname ixia_locid="81"
                            >sudo</cmdname> command to elevate your privileges, followed by the
                        command to be executed. </p>
                    <p ixia_locid="136">If a password is requested, provide the password for the
                            <nameliteral ixia_locid="138">wrsroot</nameliteral> account.</p>
                </li>
                <li ixia_locid="82">
                    <p ixia_locid="83">You can execute OpenStack administrative commands as the
                        Keystone <nameliteral ixia_locid="139">admin</nameliteral> user. </p>
                    <p ixia_locid="85">Source the script <filepath ixia_locid="152">/etc/nova/openrc</filepath> while
                        working on the active controller to acquire Keystone administrative
                        privileges.</p>
                    <codeblock ixia_locid="131"><systemoutput ixia_locid="154">$ </systemoutput><userinput ixia_locid="135">source /etc/nova/openrc</userinput>
<systemoutput ixia_locid="155">[wrsroot@controller-0 ~(keystone_admin)]$ </systemoutput></codeblock>
                    <p ixia_locid="147">The system prompt changes to indicate the new acquired
                        privileges.</p>
                    <note id="note_N100F4_N100C7_N1007A_N1002A_N10022_N10001" ixia_locid="148">
                        <p ixia_locid="149">The default Keystone prompt includes the host name and
                            the current working path. For simplicity,  this guide uses the following
                            generic prompt instead:</p>
                        <codeblock ixia_locid="150"><systemoutput ixia_locid="156">~(keystone_admin)$ </systemoutput></codeblock>
                    </note>
                    <p ixia_locid="90">For more information on the active controller, see <xref href="jow1404333798721.xml" ixia_locid="91"/>.</p>
                </li>
            </ul>
        </section>
        <section id="section_N10094_N1001D_N10001" ixia_locid="97">
            <title ixia_locid="98">Local User Accounts</title>
            <p ixia_locid="142">You can manage regular Linux user accounts on any host in the cluster
                using standard Linux commands.  New accounts created on one host are not
                automatically propagated to other hosts. </p>
            <p ixia_locid="143">Password changes are not enforced automatically on first login, and
                they are not propagated by the system (with the exception of the <nameliteral ixia_locid="100">wrsroot</nameliteral> account, for which passwords changed on
                the active controller are propagated to other hosts.) Any special considerations for
                these accounts, if any, must be configured manually.</p>
            <p ixia_locid="101">Local user accounts can be added to the <term ixia_locid="102">sudoers</term> list using the <cmdname ixia_locid="103">visudo</cmdname>
                command. They can also source the script <filepath ixia_locid="104">/etc/nova/openrc</filepath> to become OpenStack administrators when working on
                the active controller. </p>
            <p ixia_locid="105">Backup and restore operations of home directories and passwords must be done
                manually. They are ignored by the system backup and restore utilities. See <xref href="psa1410807758201.xml" ixia_locid="106"/> for further details.</p>
        </section>
        <section id="section_N100E3_N1001A_N10001" ixia_locid="107">
            <title ixia_locid="51">LDAP User Accounts</title>
            <p ixia_locid="144">You can create regular Linux user accounts using the HP Helion OpenStack Carrier Grade
                LDAP service. LDAP accounts are centrally managed; changes made on any host are
                propagated automatically to all hosts on the cluster. </p>
            <p ixia_locid="145">In other respects, LDAP user accounts behave as any local user
                account. They can be added to the sudoers list, and can acquire OpenStack
                administration credentials when executing on the active controller.</p>
            <p ixia_locid="23">LDAP user accounts share the following set of attributes:</p>
            <ul id="ul_d4q_g5c_5p">
                <li ixia_locid="24">
                    <p ixia_locid="25">The initial password is the name of the account.</p>
                </li>
                <li ixia_locid="28">
                    <p ixia_locid="29">The initial password must be changed immediately upon first
                        login.</p>
                </li>
                <li ixia_locid="30">
                    <p ixia_locid="31">Requirements for new passwords include:</p>
                    <ul id="ul_ipq_g5c_5p">
                        <li ixia_locid="32">
                            <p ixia_locid="33">to be at least eight characters long</p>
                        </li>
                        <li ixia_locid="34">
                            <p ixia_locid="35">to have at least one lowercase character</p>
                        </li>
                        <li ixia_locid="36">
                            <p ixia_locid="37">to differ in at least three characters from the
                                previous password</p>
                        </li>
                        <li ixia_locid="38">
                            <p ixia_locid="39">not to be evidently trivial to guess, such as
                                a2345678, or a reversed version of the old password</p>
                        </li>
                    </ul>
                </li>
                <li ixia_locid="40">
                    <p ixia_locid="41">Login sessions are logged out automatically after about 15
                        minutes of inactivity.</p>
                </li>
                <li ixia_locid="42">
                    <p ixia_locid="43">The accounts block following five consecutive unsuccessful
                        login attempts. They unblock automatically after a period of about five
                        minutes.</p>
                </li>
                <li ixia_locid="44">
                    <p ixia_locid="45">Home directories are created dynamically on first login. Note
                        that home directories for local user accounts are created when the accounts
                        are created.</p>
                </li>
                <li ixia_locid="110">
                    <p ixia_locid="112">All authentication attempts are recorded on the file
                            <filepath ixia_locid="48">/var/log/auth.log</filepath> of the target
                        host.</p>
                </li>
                <li ixia_locid="111">
                    <p ixia_locid="113">Home directories and passwords are backed up and restored by
                        the system backup utilities.</p>
                </li>
            </ul>
            <p ixia_locid="5">The following LDAP user accounts are available by default on newly
                deployed hosts, regardless of their personality:</p>
            <dl>
                <dlentry ixia_locid="6">
                    <dt ixia_locid="7">admin</dt>
                    <dd ixia_locid="8">
                        <p ixia_locid="9">A cloud administrative account, comparable in purpose to
                            the default <nameliteral ixia_locid="10">admin</nameliteral> account
                            used in the web management interface.</p>
                        <p ixia_locid="11">This user account operates on a restricted Linux shell,
                            with very limited access to native Linux commands. However, the shell is
                            preconfigured to have administrative access to OpenStack commands,
                            including the available HP Helion OpenStack Carrier Grade CLI extensions.</p>
                    </dd>
                </dlentry>
                <dlentry ixia_locid="12">
                    <dt ixia_locid="13">operator</dt>
                    <dd ixia_locid="14">
                        <p ixia_locid="15">A host administrative account. It has access to all
                            native Linux commands and is included in the sudoers list.</p>
                    </dd>
                </dlentry>
            </dl>
            <p ixia_locid="114">For increased security, the <nameliteral ixia_locid="115">admin</nameliteral> and <nameliteral ixia_locid="116">operator</nameliteral>
                accounts must be used from the console ports of the hosts; no SSH access is
                allowed.</p>
        </section>
        <section id="section_N1019F_N1001D_N10001" ixia_locid="108">
            <title ixia_locid="117">Managing LDAP User Accounts</title>
            <p ixia_locid="52">Although the scope of operations for the LDAP user accounts is local,
                that is, they operate on the target host exclusively, management of these accounts
                operates at the cluster level. This means that operations such as password change,
                and addition or removal of users, are applied to the entire cluster. For example, a
                password change executed while logged into controller-0, is effective immediately on
                all other hosts in the cluster.</p>
            <p ixia_locid="53">Centralized management is implemented using two LDAP servers, one
                running on each controller node. LDAP server synchronization is automatic using the
                native LDAP content synchronization protocol.</p>
            <p ixia_locid="54">A set of LDAP commands is available to operate on LDAP user accounts.
                The commands are installed in the directory <filepath ixia_locid="55">/usr/local/sbin</filepath>, and are available to any user account in the
                sudoers list. Included commands are <cmdname ixia_locid="58">lsldap</cmdname>,
                    <cmdname ixia_locid="59">ldapadduser</cmdname>, <cmdname ixia_locid="60">ldapdeleteuser</cmdname>, and several others starting with the prefix <cmdname ixia_locid="61">ldap</cmdname>. Use the command option <option ixia_locid="62">--help</option> on any command to display a brief help message, as illustrated
                below.</p>
            <codeblock ixia_locid="63"><systemoutput ixia_locid="157">$ </systemoutput><userinput ixia_locid="65">ldapadduser --help</userinput>
<systemoutput ixia_locid="158">Usage : /usr/local/sbin/ldapadduser &lt;username&gt; &lt;groupname | gid&gt; [uid]</systemoutput>
<systemoutput ixia_locid="159">$ </systemoutput><userinput ixia_locid="68">ldapdeleteuser --help</userinput>
<systemoutput ixia_locid="160">Usage : /usr/local/sbin/ldapdeleteuser &lt;username | uid&gt;</systemoutput></codeblock>
        </section>
    </conbody>
</concept-wr>