<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE task-wr PUBLIC "-//WindRiver.com//DTD DITA 1.2 Wind River General Task//EN" "task-wr.dtd">
<task-wr ditaarch:DITAArchVersion="1.2" domains="(topic task task-wr)                            (topic hi-d)                            (topic pr-d)                            (topic sw-d)                            (topic ui-d)                            (topic wr-sw-d)                            (topic xml-d)   " id="jow1404333507469" xml:lang="en-us" xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/">
    <!-- Modification History
        
-->
    <title ixia_locid="1">Initializing and Configuring Controller-1</title>
    <shortdesc ixia_locid="2">You must assign a host as a second controller to provide redundancy
        for <nameliteral ixia_locid="3">controller-0</nameliteral>.</shortdesc>
    <prolog>
        <author ixia_locid="4">Jim Owens</author>
        <author ixia_locid="5">Tom Towle</author>
        <author ixia_locid="6">Pedro Sanchez</author>
    </prolog>
    <taskbody>
        <prereq conref="jow1404333506062.xml#jow1404333506062/prerequisites" id="prereq_N1002B_N10028_N10001" ixia_locid="7"/>
        <context id="context_N1007D_N1002E_N10001" ixia_locid="282" product="tis_small">
            <p ixia_locid="283">For a minimal two-server configuration,  the procedure varies
                slightly. The data interfaces for the compute function are defined before
                    <nameliteral ixia_locid="285">controller-1</nameliteral> is unlocked.</p>
        </context>
        <steps id="steps_nvd_tz5_k4">
            <step id="step_N1003B_N10037_N1002E_N10001" ixia_locid="359">
                <cmd ixia_locid="360">Power on the node to be configured as <nameliteral ixia_locid="361">controller-1</nameliteral>.</cmd>
            </step>
            <step id="step_N1003D_N10030_N10028_N10001" ixia_locid="10">
                <cmd ixia_locid="11">Using the web administration interface, assign the node as a
                    controller host.</cmd><!-- an expectant message appears on the display (Waiting for this node to be configured) and hangs around until you select Edit Host.  This one tripped Ron up, so we may want to mention it or add a screen shot. -->
                <substeps id="substeps_ids_zz5_k4">
                    <substep conref="jow1404333506062.xml#jow1404333506062/open-hosts-list" ixia_locid="12">
                        <cmd ixia_locid="13"/>
                    </substep>
                    <substep conref="jow1404333506062.xml#jow1404333506062/click-edit-hosts" ixia_locid="14">
                        <cmd ixia_locid="15"/>
                    </substep>
                    <substep ixia_locid="16">
                        <cmd ixia_locid="17">Select <menucascade ixia_locid="18"><uicontrol ixia_locid="19">Personality</uicontrol><uicontrol ixia_locid="20">Controller</uicontrol></menucascade>.</cmd>
                    </substep>
                    <substep conref="jow1404333506062.xml#jow1404333506062/specify-location" ixia_locid="21">
                        <cmd ixia_locid="22"/>
                    </substep>
                    <substep conref="jow1404333506062.xml#jow1404333506062/installation_parameters" ixia_locid="357">
                        <cmd ixia_locid="358"/>
                    </substep>
                    <substep ixia_locid="86">
                        <cmd conref="jow1404333506062.xml#jow1404333506062/cmd-save-personality" ixia_locid="87"/>
                        <stepresult ixia_locid="88">
                            <p conref="jow1404333506062.xml#jow1404333506062/p-save-personality" ixia_locid="89"/>
                            <fig id="fig_kwg_kry_4p" ixia_locid="90">
                                <image href="jow1412193160572.image" id="image_ixn_r1q_pp" ixia_locid="91" width="3.5in">
                                    <alt ixia_locid="92">HP Helion OpenStack Carrier Grade Controller Node Install</alt>
                                </image>
                            </fig>
                        </stepresult>
                    </substep>
                    <substep conref="jow1404333506062.xml#jow1404333506062/wait_for_login_prompt" ixia_locid="93">
                        <cmd ixia_locid="94"/>
                    </substep>
                </substeps>
                <info ixia_locid="29">
                    <p ixia_locid="30">The time required to configure and reboot <uicontrol ixia_locid="31">controller-1</uicontrol> depends on the secondary disk
                        partition size. Larger partitions require more time for synchronization with
                            <uicontrol ixia_locid="32">controller-0</uicontrol>. </p>
                </info>
                <stepresult conref="jow1404333506062.xml#jow1404333506062/node_locked_available_online" ixia_locid="95"/>
            </step>
            <step id="step_N1045B_N1008E_N1002E_N10001" ixia_locid="362" product="tis_small">
                <cmd ixia_locid="363">If you are installing a minimal two-server configuration,
                    attach the data interfaces.</cmd>
                <info ixia_locid="301">
                    <p ixia_locid="302">For details, see <xref href="jow1426948577755.xml" ixia_locid="303"/>.</p>
                </info>
            </step>
            <step id="step_N1011B_N10048_N1002E_N10001" ixia_locid="364" product="tis_small">
                <cmd ixia_locid="365"><draft-comment author="jowens" ixia_locid="396">US65502 added
                        step</draft-comment>If you are installing a minimal two-server
                    configuration, configure local storage on both hosts.</cmd>
                <substeps id="substeps_plc_3jn_4t">
                    <substep ixia_locid="366">
                        <cmd ixia_locid="367">Configure local storage on <nameliteral ixia_locid="368">controller-1</nameliteral>
                            while it is locked, as follows:</cmd>
                        <info ixia_locid="369">
                            <ul id="ul_opg_gkn_4t">
                                <li ixia_locid="370">
                                    <p ixia_locid="371">Open the <nameliteral ixia_locid="372">Inventory Detail</nameliteral> for
                                        controller-1, and then select the
                                            <nameliteral ixia_locid="373">Storage</nameliteral> tab.<fig id="fig_atv_4s5_jr" ixia_locid="374">
                                            <image href="jow1426459038579.image" id="image_rhh_ps5_jr" ixia_locid="375" width="6in">
                                                <alt ixia_locid="37">Compute Node Storage tab</alt>
                                            </image>
                                        </fig></p>
                                </li>
                                <li ixia_locid="376">
                                    <p ixia_locid="377">Click <uicontrol ixia_locid="378">Add Local Volume Group</uicontrol>, and then
                                        use the <wintitle ixia_locid="379">Create Local Volume Group</wintitle>
                                        dialog box to add the default
                                            <nameliteral ixia_locid="380">nova-local</nameliteral> local volume
                                            group.<fig id="fig_wrr_vs5_jr" ixia_locid="38">
                                            <image href="jow1426459253956.image" id="image_ask_bt5_jr" ixia_locid="39">
                                                <alt ixia_locid="381">Create Local Volume Group</alt>
                                            </image>
                                        </fig></p>
                                </li>
                                <li ixia_locid="382">
                                    <p ixia_locid="383">On the Storage tab, click <uicontrol ixia_locid="384">Add Physical Volume</uicontrol>, and
                                        then use the Create Physical Volume dialog box to select a
                                            disk.<fig id="fig_myv_tdz_jr" ixia_locid="54">
                                            <image href="jow1426511807740.image" id="image_dhp_12z_jr" ixia_locid="55">
                                                <alt ixia_locid="56">Create Physical Volume dialog
                                                  box</alt>
                                            </image>
                                        </fig></p>
                                </li>
                                <li ixia_locid="385">
                                    <p ixia_locid="115">In the <nameliteral ixia_locid="116">Local
                                            Volume Groups</nameliteral> list, click <uicontrol ixia_locid="117">nova-local</uicontrol> to open the
                                        Local Volume Group Detail page.<fig id="fig_n1g_rwm_4t" ixia_locid="118">
                                            <image href="jow1443974043719.image" id="image_ng4_rwm_4t" ixia_locid="119">
                                                <alt ixia_locid="120">TiS Local Volume Group
                                                  Detail</alt>
                                            </image>
                                        </fig></p>
                                </li>
                                <li ixia_locid="386">
                                    <p ixia_locid="121">Select the <uicontrol ixia_locid="122">Parameters</uicontrol> tab.<fig id="fig_y1n_cxm_4t" ixia_locid="123">
                                            <image href="jow1443974983289.image" id="image_htz_qym_4t" ixia_locid="124">
                                                <alt ixia_locid="125">TiS Local Volume Group Detail
                                                  Parameters tab</alt>
                                            </image>
                                        </fig></p>
                                </li>
                                <li ixia_locid="387">
                                    <p ixia_locid="126">Click <uicontrol ixia_locid="127">Edit</uicontrol>, and then set the <uicontrol ixia_locid="128">Instances Logical Volume
                                            Size</uicontrol>.<fig id="fig_ok5_1ym_4t" ixia_locid="129">
                                            <image href="jow1443975258969.image" id="image_a3q_3zm_4t" ixia_locid="130">
                                                <alt ixia_locid="131">TiS Edit Local Volume Group
                                                  Parameter dialog</alt>
                                            </image>
                                        </fig></p>
                                    <p ixia_locid="132">If the total space in the volume group is
                                        less than 80GB (81920 MiB), then you must allocate at least
                                        2048 MiB. If the volume group is greater than 80GB (81920
                                        MiB), then you must allocate at least 5120 MiB. The actual
                                        size is limited to ensure at least 50% free space in the
                                        volume group for creating disks for launched instances. For
                                        more information, see the <cite ixia_locid="388">Titanium
                                            Server Administration Guide: Instances Logical Volume
                                            Considerations</cite>.</p>
                                </li>
                            </ul>
                        </info>
                    </substep>
                    <substep ixia_locid="397">
                        <cmd ixia_locid="398">Unlock <nameliteral ixia_locid="399">controller-1</nameliteral>.</cmd>
                        <info ixia_locid="400">
                            <p ixia_locid="401">The host is rebooted, and its <uicontrol ixia_locid="43">Availability
                                    State</uicontrol> is reported as <uicontrol ixia_locid="44">In-Test</uicontrol>. After a few minutes, it is reported as
                                    <uicontrol ixia_locid="45">Unlocked</uicontrol>, <uicontrol ixia_locid="46">Enabled</uicontrol>, and <uicontrol ixia_locid="47">Available</uicontrol>.</p>
                        </info>
                    </substep>
                    <substep ixia_locid="389">
                        <cmd ixia_locid="390">Swact the controllers to lock
                            <nameliteral ixia_locid="391">controller-0</nameliteral>.</cmd>
                    </substep>
                    <substep ixia_locid="392">
                        <cmd ixia_locid="393">Configure local storage on <nameliteral ixia_locid="394">controller-0</nameliteral>,
                            following the same procedure as for
                                <nameliteral ixia_locid="395">controller-1.</nameliteral></cmd>
                    </substep>
                </substeps>
            </step>
            <step conref="jow1404333506827.xml#jow1404333506827/unlock-node" id="step_N1009C_N10030_N10028_N10001" ixia_locid="33">
                <cmd ixia_locid="34"/>
            </step>
        </steps>
        <result id="result_N100F4_N1002E_N10001" ixia_locid="307">
            <p ixia_locid="308">Both controllers are now available, with one active and one
                redundant.</p>
            <note id="note_N103FA_N103E7_N10033_N10001" ixia_locid="355">
                <p ixia_locid="356">Controller-0 and controller-1 use IP multicast messaging for
                    synchronization. If loss of synchronization occurs a few minutes after
                    controller-1 becomes available, ensure that the switches and other devices on
                    the management, infrastructure, and OAM networks are configured with appropriate
                    settings. For example, consider that IGMP snooping may interfere with IP
                    multicast messaging in some scenarios.</p>
            </note>
        </result>
    </taskbody>
</task-wr>