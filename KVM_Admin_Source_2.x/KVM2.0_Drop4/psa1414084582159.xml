<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE task-wr PUBLIC "-//WindRiver.com//DTD DITA 1.2 Wind River General Task//EN" "task-wr.dtd">
<task-wr id="psa1414084582159" xml:lang="en-us">
<!-- Modification History
        
-->
    <title ixia_locid="1">Installing Patches Locally</title>
    <shortdesc ixia_locid="2">
        <draft-comment author="rstone" ixia_locid="88">US62817 changed wrs-patch -&gt; sw-patch</draft-comment>
    </shortdesc>
    <prolog>
        <author></author>
    </prolog>
    <taskbody>
        <context id="context_N1001E_N1001B_N10001" ixia_locid="4">
            <p ixia_locid="5">When installing the HP Helion OpenStack Carrier Grade software on new hardware, it is
                recommended that you install the latest available patches on <nameliteral ixia_locid="6">controller-0</nameliteral> before running the
                    <cmdname ixia_locid="87">config_controller</cmdname> script, and before installing the software
                on other hosts. This ensures that:</p>
            <ul id="ul_gsq_1ht_vp">
                <li ixia_locid="7">
                    <p ixia_locid="8">The software on <nameliteral ixia_locid="9">controller-0</nameliteral>, and all other hosts, is up to date when the
                        cluster comes alive.</p>
                </li>
                <li ixia_locid="10">
                    <p ixia_locid="11">You reduce installation time by avoiding patching the system
                        right after an out-of-date software installation is complete.</p>
                </li>
            </ul>
            <p ixia_locid="12">This exercise assumes that the patches to install are available on a USB flash drive,
                or from a server reachable by <nameliteral ixia_locid="13">controller-0</nameliteral>.</p>
        </context>
        <steps>
            <step id="step_N1004F_N1004C_N1001B_N10001" ixia_locid="14">
                <cmd ixia_locid="15">Initialize <nameliteral ixia_locid="16">controller-0</nameliteral>.</cmd>
                <info ixia_locid="17">
                    <p ixia_locid="18">Use the HP Helion OpenStack Carrier Grade bootable ISO image to initialize
                            <nameliteral ixia_locid="19">controller-0</nameliteral>. See the <cite ixia_locid="20">HP Helion OpenStack Carrier Grade
                            Software Installation Guide</cite> for details.</p>
                </info>
                <stepresult ixia_locid="21">
                    <p ixia_locid="22">This step takes you to the point where you use the console
                        port to log in to <nameliteral ixia_locid="23">controller-0</nameliteral> as
                        user <nameliteral ixia_locid="85">wrsroot</nameliteral>.</p>
                </stepresult>
            </step>
            <step id="step_N1007C_N1004C_N1001B_N10001" ixia_locid="25">
                <cmd ixia_locid="26">Copy the patches to the local file system.</cmd>
                <info ixia_locid="27">
                    <p ixia_locid="28">If the patches are on a USB flash drive, copy them from the
                        appropriate mount point to some directory in the local file system. For
                        example:</p>
                </info>
                <stepxmp ixia_locid="29">
                    <codeblock ixia_locid="30"><systemoutput ixia_locid="31">$ </systemoutput><userinput ixia_locid="32">mkdir /tmp/patches</userinput>
<systemoutput ixia_locid="33">$ </systemoutput><userinput ixia_locid="34">cp /media/wrsroot/data/CONTROLLER_PATCH_0001.patch /tmp/patches</userinput></codeblock>
                </stepxmp>
                <info ixia_locid="35">
                    <p ixia_locid="36">If the patches are available from a remote server, you need
                        to manually initialize a suitable Ethernet interface first, and then
                        transfer them to the local file system. For example:</p>
                    <codeblock ixia_locid="37"><systemoutput ixia_locid="38">$ </systemoutput><userinput ixia_locid="39">mkdir /tmp/patches</userinput>
<systemoutput ixia_locid="40">$ </systemoutput><userinput ixia_locid="41">sudo ifconfig eth3 192.168.1.100 netmask 255.255.255.0 up</userinput>
<systemoutput ixia_locid="42">$ </systemoutput><userinput ixia_locid="43">scp \
me@192.168.1.150:/usr/local/patches/CONTROLLER_PATCH_0001.patch \
/tmp/patches</userinput></codeblock>
                </info>
                <stepresult ixia_locid="44">
                    <p ixia_locid="45">All patches are now in the directory <filepath ixia_locid="46">/tmp/patches</filepath>.</p>
                </stepresult>
            </step>
            <step id="step_N100CC_N1004C_N1001B_N10001" ixia_locid="47">
                <cmd ixia_locid="48">Populate the patch storage area.</cmd>
                <info ixia_locid="49">
                    <p ixia_locid="50">Upload the patches using the command <cmdname ixia_locid="51">sw-patch upload</cmdname> or <cmdname ixia_locid="52">sw-patch
                            upload-dir</cmdname> as described in <xref href="psa1410446807133.xml" ixia_locid="53"/>.</p>
                </info>
            </step>
            <step id="step_N1011E_N10059_N1001E_N10001" ixia_locid="78">
                <cmd ixia_locid="79">Apply the patches.</cmd>
                <info ixia_locid="80">
                    <p ixia_locid="81">Apply the patches using the command <cmdname ixia_locid="82">sw-patch apply --all</cmdname>.</p>
                </info>
                <stepresult ixia_locid="83">
                    <p ixia_locid="84">The patches are now in the software updates repository, ready to be
                        installed.</p>
                </stepresult>
            </step>
            <step id="step_N100E9_N1004C_N1001B_N10001" ixia_locid="54">
                <cmd ixia_locid="55">Install the patches locally.</cmd>
                <stepxmp ixia_locid="56">
                    <codeblock ixia_locid="57"><systemoutput ixia_locid="58">$ </systemoutput><userinput ixia_locid="59">sudo sw-patch install-local</userinput>
<systemoutput ixia_locid="77">Patch installation is complete.
Please reboot before continuing with configuration.</systemoutput></codeblock>
                </stepxmp>
                <stepresult ixia_locid="60">
                    <p ixia_locid="61">This command installs all applied patches on <nameliteral ixia_locid="62">controller-0</nameliteral>.</p>
                </stepresult>
            </step>
            <step id="step_N1010B_N1004C_N1001B_N10001" ixia_locid="63">
                <cmd ixia_locid="64">Reboot <nameliteral ixia_locid="65">controller-0</nameliteral>.</cmd>
                <info ixia_locid="66">
                    <p ixia_locid="67">You must reboot the controller to ensure that it is running with the software
                        fully patched.</p>
                </info>
            </step>
            <step id="step_N10120_N1004C_N1001B_N10001" ixia_locid="68">
                <cmd ixia_locid="69">Continue the installation.</cmd>
                <info ixia_locid="70">
                    <p ixia_locid="71">Log in again as <nameliteral ixia_locid="86">wrsroot</nameliteral> and
                        continue with the software installation by running the <cmdname ixia_locid="73">config_controller</cmdname> script. See the <cite ixia_locid="74">HP Helion OpenStack Carrier Grade Software Installation Guide</cite> for
                        further details and directions.</p>
                </info>
            </step>
        </steps>
        <result id="result_N10138_N1001B_N10001" ixia_locid="75">
            <p ixia_locid="76">Once all hosts in the cluster are initialized, they are all running
                fully patched software. The HP Helion OpenStack Carrier Grade cluster is up to date.</p>
        </result>
    </taskbody>
</task-wr>