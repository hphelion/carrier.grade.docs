<?xml version="1.0" encoding="UTF-8"?><?workdir /C:\Drop3and4\Drop4\temp\pdf?><?workdir-uri file:/C:/Drop3and4/Drop4/temp/pdf/?><?path2project?><?path2project-uri ./?><task-wr xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/" id="rst1441988597710" xml:lang="en-us" ditaarch:DITAArchVersion="1.2" domains="(topic task task-wr)                            (topic hi-d)                             (topic pr-d)                             (topic sw-d)                            (topic ui-d)                            (topic wr-sw-d)                            (topic xml-d)   " class="- topic/topic task/task task-wr/task-wr ">
<!-- Modification History
        
-->
    <title ixia_locid="491" class="- topic/title ">Specifying Live Migration Maximum Downtime</title>
    <shortdesc ixia_locid="492" class="- topic/shortdesc "><draft-comment author="rstone" ixia_locid="501" translate="no" dir="ltr" class="- topic/draft-comment ">Topic added for
            US60539</draft-comment>You can change the maximum amount of  downtime to tolerate during
        a live migration. </shortdesc>
    <prolog class="- topic/prolog ">
        <author ixia_locid="493" class="- topic/author ">Ron Stone</author>
    </prolog>
    <taskbody class="- topic/body task/taskbody ">
        <context id="context_N1001F_N1001C_N10001" ixia_locid="494" class="- topic/section task/context ">
            <p ixia_locid="495" class="- topic/p ">If this extra spec is not added, then the default 500 milliseconds
                is used. The minimum timer value is 100 milliseconds.</p>
            <note id="note_N10033_N10029_N10026_N10001" ixia_locid="545" class="- topic/note ">
                <p ixia_locid="496" class="- topic/p ">Downtime during a live migration is the period during which the
                    VM will be suspended in order to journal the final increment of data between
                    source VM instance and destination VM instance, resulting in a temporary service
                    interruption. Adjust this timer to avoid excessive down times that may violate
                    service level agreements. When this threshold cannot be achieved within the
                        <varname ixia_locid="535" class="+ topic/keyword sw-d/varname ">live_migration_timeout</varname>, the migration is
                    aborted. For more information about <varname ixia_locid="499" class="+ topic/keyword sw-d/varname ">live_migration_timeout</varname>, see <xref href="rst1441822551049.xml" ixia_locid="500" class="- topic/xref "/>.</p>
            </note>
            <p ixia_locid="536" class="- topic/p ">The live migration process will actually attempt to achieve a much smaller downtime
                than specified by this parameter by starting with a lower value approximately 1/10th
                of specified value, and increasing the downtime target and every 75 seconds for a
                total of 10 attempts. Setting the Live Migration Maximum Timeout, as described in
                    <xref href="rst1441822551049.xml" ixia_locid="537" class="- topic/xref "/>, lower than 750 seconds results in the
                actual maximum tolerated live migration downtime being shorter than specified by
                this parameter. </p>
            <p ixia_locid="538" class="- topic/p ">Live migration maximum downtime can be configured as an extra spec
                on a flavor, such that any VM Instance created with the flavor will inherit the
                specified value. Alternatively, it can be configured as meta-data on an image, such
                that any VM instance created based on this image will have the specified value. If
                live migration maximum downtime is set in both the flavor and the image, the value
                from the flavor overrides the value from the image.</p>
            <p ixia_locid="539" class="- topic/p ">To set this option using the web administration interface:</p>
            <ul id="ul_cy3_byy_lt" class="- topic/ul ">
                <li ixia_locid="540" class="- topic/li ">
                    <p ixia_locid="488" class="- topic/p ">As <term ixia_locid="541" class="- topic/term ">admin</term>, use the <uicontrol ixia_locid="489" class="+ topic/ph ui-d/uicontrol ">Live Migration Max Downtime</uicontrol> selection in the <uicontrol ixia_locid="490" class="+ topic/ph ui-d/uicontrol ">Create Flavor Extra Spec</uicontrol> drop-down menu. To
                        access this menu, see <xref href="jow1429538642910.xml" ixia_locid="470" class="- topic/xref "/>.</p>
                </li>
            </ul>
            <p ixia_locid="542" class="- topic/p ">or</p>
            <ul id="ul_qxq_hyy_lt" class="- topic/ul ">
                <li ixia_locid="531" class="- topic/li ">
                    <p ixia_locid="532" class="- topic/p ">As either <term ixia_locid="517" class="- topic/term ">admin</term> or a tenant,
                        select <menucascade ixia_locid="518" class="+ topic/ph ui-d/menucascade ">
                            <uicontrol ixia_locid="519" class="+ topic/ph ui-d/uicontrol ">System</uicontrol>
                            <uicontrol ixia_locid="520" class="+ topic/ph ui-d/uicontrol ">Images</uicontrol>
                            <uicontrol ixia_locid="521" class="+ topic/ph ui-d/uicontrol ">Edit Image</uicontrol>
                            <uicontrol ixia_locid="522" class="+ topic/ph ui-d/uicontrol ">Update Metadata</uicontrol>
                        </menucascade> for the desired images and add an entry with:</p>
                    <codeblock ixia_locid="533" class="+ topic/pre pr-d/codeblock ">hw_wrs_live_migration_max_downtime=<varname ixia_locid="534" class="+ topic/keyword sw-d/varname ">milliseconds</varname></codeblock>
                </li>
            </ul>
        </context>
        <steps id="steps_sf1_1wb_3t" class="- topic/ol task/steps ">
            <step id="step_N10035_N10032_N1001C_N10001" ixia_locid="471" class="- topic/li task/step ">
                <cmd ixia_locid="472" class="- topic/ph task/cmd ">Set the timer from the command line:</cmd>
                <info ixia_locid="473" class="- topic/itemgroup task/info ">
                    <p ixia_locid="474" class="- topic/p ">The following examples set the timeout to 350
                        milliseconds.</p>
                </info>
                <choices id="choices_iks_2wn_ht" class="- topic/ul task/choices ">
                    <choice ixia_locid="475" class="- topic/li task/choice ">
                        <p ixia_locid="476" class="- topic/p ">As <term ixia_locid="543" class="- topic/term ">admin</term>, add an extra spec to a
                            flavor:</p>
                        <codeblock ixia_locid="477" class="+ topic/pre pr-d/codeblock "><systemoutput ixia_locid="483" class="+ topic/ph sw-d/systemoutput ">~(keystone)admin)$ </systemoutput><userinput ixia_locid="484" class="+ topic/ph sw-d/userinput ">nova flavor-key <varname ixia_locid="478" class="+ topic/keyword sw-d/varname ">flavorName</varname> set hw:wrs:live_migration_max_downtime=350</userinput></codeblock>
                    </choice>
                    <choice ixia_locid="479" class="- topic/li task/choice ">
                        <p ixia_locid="480" class="- topic/p ">As <term ixia_locid="544" class="- topic/term ">admin</term> or a tenant, update the metadata
                            of an image:</p>
                        <codeblock ixia_locid="481" class="+ topic/pre pr-d/codeblock "><systemoutput ixia_locid="485" class="+ topic/ph sw-d/systemoutput ">~(keystone)admin)$ </systemoutput><userinput ixia_locid="486" class="+ topic/ph sw-d/userinput ">glance image-update --property hw_wrs_live_migration_max_downtime=350 <varname ixia_locid="482" class="+ topic/keyword sw-d/varname ">imageName</varname></userinput></codeblock>
                    </choice>
                </choices>
            </step>
        </steps>
    </taskbody>
</task-wr>