<?xml version="1.0" encoding="UTF-8"?><?workdir /C:\Drop3and4\Drop4\temp\pdf\oxygen_dita_temp?><?workdir-uri file:/C:/Drop3and4/Drop4/temp/pdf/oxygen_dita_temp/?><?path2project?><?path2project-uri ./?><task-wr xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/" id="jow1436197980621" xml:lang="en-us" ditaarch:DITAArchVersion="1.2" domains="(topic task task-wr)                            (topic hi-d)                             (topic pr-d)                             (topic sw-d)                            (topic ui-d)                            (topic wr-sw-d)                            (topic xml-d)   " class="- topic/topic task/task task-wr/task-wr ">
<!-- Modification History
        
-->
    <title ixia_locid="34" class="- topic/title ">Specifying Best Effort for PCI NUMA Node Affinity</title>
    <shortdesc ixia_locid="35" class="- topic/shortdesc ">You can select whether to require direct NUMA-node access to a PCI
        interface when instantiating a VM. </shortdesc>
    <prolog class="- topic/prolog ">
        <author ixia_locid="36" class="- topic/author ">Jim Owens</author>
    </prolog>
    <taskbody class="- topic/body task/taskbody ">
        <context id="context_N1001F_N1001C_N10001" ixia_locid="37" class="- topic/section task/context ">
            <p ixia_locid="38" class="- topic/p ">By default, when a VM is configured to use an SR-IOV or
                PCI-passthrough interface, the VM is affined to a NUMA node that has direct hardware
                access to the physical PCI interface. If none is available, the instantiation fails. </p>
            <p ixia_locid="40" class="- topic/p ">You can set an extra spec so that if the requirement cannot be
                satisifed, the VM is instantiated on another NUMA node with mediated access to the
                interface.</p>
            <p ixia_locid="42" class="- topic/p ">To add this extra spec to a flavor using the web administration
                interface, use the <nameliteral ixia_locid="43" class="+ topic/ph hi-d/b wr-sw-d/nameliteral ">PCI NUMA Affinity</nameliteral>
                selection in the <nameliteral ixia_locid="44" class="+ topic/ph hi-d/b wr-sw-d/nameliteral ">Create Flavor Extra Spec</nameliteral>
                drop-down menu. To access this menu, see <xref href="jow1429538642910.xml" ixia_locid="45" class="- topic/xref "/>.</p>
            <p ixia_locid="46" class="- topic/p ">You can also specify the extra spec from the CLI by setting the following parameter
                for a flavor:</p>
            <codeblock ixia_locid="47" class="+ topic/pre pr-d/codeblock "><userinput ixia_locid="22" class="+ topic/ph sw-d/userinput ">hw:wrs:pci_numa_affinity=<varname ixia_locid="23" class="+ topic/keyword sw-d/varname ">pci_affinity</varname></userinput></codeblock>
            <p ixia_locid="24" class="- topic/p ">where <varname ixia_locid="25" class="+ topic/keyword sw-d/varname ">pci_affinity</varname> is one of the
                following:</p>
            <dl class="- topic/dl ">
                <dlentry ixia_locid="26" class="- topic/dlentry ">
                    <dt ixia_locid="27" class="- topic/dt ">strict</dt>
                    <dd ixia_locid="28" class="- topic/dd ">
                        <p ixia_locid="29" class="- topic/p ">(default) Requires a host NUMA node with direct access to
                            a PCI interface. For a VM configured to use multiple NUMA nodes, at
                            least one host NUMA node must have direct PCI access.  If these
                            conditions cannot be satisfied, the instantiation fails.</p>
                    </dd>
                </dlentry>
                <dlentry ixia_locid="30" class="- topic/dlentry ">
                    <dt ixia_locid="31" class="- topic/dt ">prefer</dt>
                    <dd ixia_locid="32" class="- topic/dd ">
                        <p ixia_locid="33" class="- topic/p ">Prefers a host NUMA node with direct access to a PCI
                            interface. If none is available, another NUMA node can be used.</p>
                    </dd>
                </dlentry>
            </dl>
            <p ixia_locid="48" class="- topic/p ">For more information about using PCI interfaces, see <xref href="psa1413402160578.xml" ixia_locid="49" class="- topic/xref "/> and <xref href="psa1428687672712.xml" ixia_locid="50" class="- topic/xref "/>.</p>
        </context>
    </taskbody>
</task-wr>