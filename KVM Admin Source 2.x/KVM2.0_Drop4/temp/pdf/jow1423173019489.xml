<?xml version="1.0" encoding="UTF-8"?><?workdir /C:\Drop3and4\Drop4\temp\pdf?><?workdir-uri file:/C:/Drop3and4/Drop4/temp/pdf/?><?path2project?><?path2project-uri ./?><concept-wr xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/" domains="(topic concept concept-wr)                            (topic hi-d)                            (topic indexing-d)                            (topic pr-d)                            (topic sw-d)                            (topic ui-d)                            (topic wr-sw-d)                            (topic xml-d)   " id="jow1423173019489" xml:lang="en-us" ditaarch:DITAArchVersion="1.2" class="- topic/topic concept/concept concept-wr/concept-wr ">
<!-- Modification History

 -->
 <title ixia_locid="1" class="- topic/title ">Shared (VLAN) Ethernet Interfaces</title>
 <shortdesc ixia_locid="2" class="- topic/shortdesc ">The management, OAM, infrastructure, and data networks can share Ethernet
    or aggregated Ethernet interfaces using VLAN tagging.</shortdesc>
 <prolog class="- topic/prolog ">
  <author ixia_locid="3" class="- topic/author ">Jim Owens</author>
 </prolog>
 <conbody class="- topic/body  concept/conbody ">
    <p ixia_locid="4" class="- topic/p ">As explained in <xref href="jow1404333674324.xml" ixia_locid="5" class="- topic/xref "/>, the
      internal management network cannot use VLAN tagging. However, the OAM, infrastructure, and
      data networks can use VLAN tagging, allowing them to share an Ethernet or aggregated Ethernet
      interface with other networks.</p>
    <note id="note_N1002C_N1001F_N10001" ixia_locid="70" class="- topic/note ">
      <p ixia_locid="71" class="- topic/p ">You cannot configure a data VLAN or add a data network on an aggregated
        Ethernet interface.</p>
    </note>
    <p ixia_locid="6" class="- topic/p ">For a system using all four networks, the following arrangements are
      possible:</p>
    <ul id="ul_y5k_zg2_zq" class="- topic/ul ">
      <li ixia_locid="7" class="- topic/li ">
        <p ixia_locid="8" class="- topic/p ">One interface for the management network, another interface for the OAM
          network, a third for the infrastructure network, and one or more additional interfaces for
          data networks.</p>
      </li>
      <li ixia_locid="9" class="- topic/li ">
        <p ixia_locid="10" class="- topic/p ">One interface for the management network, and a second interface for
          either the OAM or infrastructure network, with the remaining networks implemented using
          VLAN tagging on either interface.</p>
      </li>
      <li ixia_locid="11" class="- topic/li ">
        <p ixia_locid="12" class="- topic/p ">One interface for the management network, and a second carrying the OAM
          and infrastructure networks, both implemented using VLAN tagging, with data networks
          implemented on either or both interfaces using VLAN tagging.</p>
      </li>
      <li ixia_locid="13" class="- topic/li ">
        <p ixia_locid="14" class="- topic/p ">One interface for the management network, with the OAM, infrastructure,
          and data networks also implemented on it using VLAN tagging.</p>
      </li>
    </ul>
    <note id="note_N100E6_N1001F_N10001" ixia_locid="66" class="- topic/note ">
      <p ixia_locid="67" class="- topic/p ">Data networks implemented using VLAN tagging are not compatible with
        VLAN-based provider networks. (Stacked VLANs are not supported.). To support VLAN provider
        networks, you can configure a data network on a management or infrastructure interface by
        editing the interface and selecting both types of network, and then selecting the VLAN
        provider network. For more information, see the Network Type discussion in the <cite ixia_locid="65" class="- topic/cite ">HP Helion OpenStack Carrier Grade Installation Guide: Interface Settings</cite>. </p>
    </note>
    <p ixia_locid="68" class="- topic/p ">Options to share an interface using VLAN tagging are presented during the
      configuration controller script (see the <cite ixia_locid="16" class="- topic/cite ">HP Helion OpenStack Carrier Grade Installation
        Guide: The Controller Configuration Script</cite>). To attach an interface to other networks
      after configuration, you can edit the interface; for details, see the <cite ixia_locid="64" class="- topic/cite ">HP Helion OpenStack Carrier Grade Installation Guide: Attaching to Networks Using a VLAN Interface</cite>. </p>
    <p ixia_locid="69" class="- topic/p ">You can also use the command line by logging into the active controller and
      becoming the Keystone <nameliteral ixia_locid="17" class="+ topic/ph hi-d/b wr-sw-d/nameliteral ">admin</nameliteral> user, and then using a
      command such as the following for each node:</p>
    <codeblock ixia_locid="25" class="+ topic/pre pr-d/codeblock "><systemoutput ixia_locid="56" class="+ topic/ph sw-d/systemoutput ">~(keystone_admin)$ </systemoutput><userinput ixia_locid="29" class="+ topic/ph sw-d/userinput ">system host-if-add storage-0 -V 22 -nt infra infra0 vlan none eth1</userinput>
<systemoutput ixia_locid="57" class="+ topic/ph sw-d/systemoutput ">+------------------+--------------------------------------+
| Property         | Value                                |
+------------------+--------------------------------------+
| ifname           | infra0                               |
| networktype      | infra                                |
| iftype           | vlan                                 |
| ports            | []                                   |
| providernetworks | None                                 |
| imac             | 08:00:27:f2:0d:68                    |
| imtu             | 1500                                 |
| aemode           | None                                 |
| schedpolicy      | None                                 |
| txhashpolicy     | None                                 |
| uuid             | 8ca9854e-a18e-4a3c-8afe-f050da702fdf |
| ihost_uuid       | 3d207384-7d30-4bc0-affe-d68ab6a00a5b |
| vlan_id          | 22                                   |
| uses             | [u'eth1']                            |
| used_by          | []                                   |
| created_at       | 2015-02-04T16:23:28.917084+00:00     |
| updated_at       | None                                 |
+------------------+--------------------------------------+
</systemoutput></codeblock>
    <p ixia_locid="22" class="- topic/p ">This example configures the <nameliteral ixia_locid="23" class="+ topic/ph hi-d/b wr-sw-d/nameliteral ">eth1</nameliteral>
      interface on <nameliteral ixia_locid="24" class="+ topic/ph hi-d/b wr-sw-d/nameliteral ">storage-0</nameliteral> to connect to the
      infrastructure network using VLAN ID 22. (The <nameliteral ixia_locid="72" class="+ topic/ph hi-d/b wr-sw-d/nameliteral ">none</nameliteral> parameter is
      used in place of a provider network name, indicating no provider network.)</p>
    <p ixia_locid="31" class="- topic/p ">To display VLAN information as well as dependencies, use a command such as
      the following:</p>
    <codeblock ixia_locid="48" class="+ topic/pre pr-d/codeblock "><systemoutput ixia_locid="58" class="+ topic/ph sw-d/systemoutput ">~(keystone_admin)$ </systemoutput><userinput ixia_locid="44" class="+ topic/ph sw-d/userinput ">system host-if-list controller-0</userinput>
<systemoutput ixia_locid="59" class="+ topic/ph sw-d/systemoutput ">...+--------+------...+----------+---------+-----------+------------+-------------+...
...| name   | netwo...| type     | vlan id | ports     | uses i/f   | used by i/f |...
...+--------+------...+----------+---------+-----------+------------+-------------+...
...| infra0 | infra...| vlan     | 22      | []        | [u'mgmt0'] | []          |...
...| oam0   | oam  ...| ethernet | None    | [u'eth0'] | []         | []          |...
...| mgmt0  | mgmt ...| ethernet | None    | [u'eth1'] | []         | [u'infra0'] |...
...+--------+------...+----------+---------+-----------+------------+-------------+...</systemoutput>
</codeblock>
    <p ixia_locid="37" class="- topic/p ">The output lists all interfaces and associated networks. For each network
      that uses VLAN tagging, the <nameliteral ixia_locid="33" class="+ topic/ph hi-d/b wr-sw-d/nameliteral ">vlan id</nameliteral> is shown, as
      well as the shared interface used (in the <nameliteral ixia_locid="34" class="+ topic/ph hi-d/b wr-sw-d/nameliteral ">uses i/f</nameliteral>
      column). For shared interfaces, the names of the networks that use VLAN tagging on the
      interface are shown (in the <nameliteral ixia_locid="35" class="+ topic/ph hi-d/b wr-sw-d/nameliteral ">used by i/f</nameliteral>
      column).</p>
    <p ixia_locid="52" class="- topic/p ">For a LAG interface, the dependencies are shown as follows.</p>
    <codeblock ixia_locid="49" class="+ topic/pre pr-d/codeblock "><systemoutput ixia_locid="60" class="+ topic/ph sw-d/systemoutput ">...+--------+------...+----------+---------+-----------+------------+-------------+...
...| name   | netwo...| type     | vlan id | ports     | uses i/f   | used by i/f |...
...+--------+------...+----------+---------+-----------+------------+-------------+...
...| oam0   | oam  ...| ethernet | None    | [u'eth0'] | []         | []          |...
...| bond0  | mgmt ...| ae       | None    | []        | [u'eth1']  | []          |...
...| eth1   | None ...| ethernet | None    | [u'eth1'] | []         | [u'bond0']  |...
...| infra0 | infra...| ethernet | None    | [u'eth3'] | []         | []          |...
...+--------+------...+----------+---------+-----------+------------+-------------+...</systemoutput>
</codeblock>
    <p ixia_locid="38" class="- topic/p "> To see all available interfaces, add the <option ixia_locid="55" class="+ topic/keyword pr-d/option ">-a</option> flag.</p>
    <codeblock ixia_locid="41" class="+ topic/pre pr-d/codeblock "><systemoutput ixia_locid="61" class="+ topic/ph sw-d/systemoutput ">~(keystone_admin)$ </systemoutput><userinput ixia_locid="45" class="+ topic/ph sw-d/userinput ">system host-if-list -a controller-0</userinput>
<systemoutput ixia_locid="62" class="+ topic/ph sw-d/systemoutput ">...+--------+------...+----------+---------+-----------+------------+-------------+...
...| name   | netwo...| type     | vlan id | ports     | uses i/f   | used by i/f |...
...+--------+------...+----------+---------+-----------+------------+-------------+...
...| eth3   | None ...| ethernet | None    | [u'eth3'] | []         | []          |...
...| infra0 | infra...| vlan     | 22      | []        | [u'mgmt0'] | []          |...
...| eth2   | None ...| ethernet | None    | [u'eth2'] | []         | []          |...
...| oam0   | oam  ...| ethernet | None    | [u'eth0'] | []         | []          |...
...| mgmt0  | mgmt ...| ethernet | None    | [u'eth1'] | []         | [u'infra0'] |...
...+--------+------...+----------+---------+-----------+------------+-------------+...</systemoutput></codeblock>
  </conbody>
</concept-wr>